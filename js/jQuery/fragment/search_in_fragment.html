<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>jQuery fragment</title>
</head>
<body>
  <div id="target" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script type="text/javascript">
    // #inner-target が存在する DOM を生成
    let $fragment = $(document.createDocumentFragment());
    $fragment.append($(`
        <div>
          <div id="inner-target" />
        </div>
    `));

    // #inner-target に Hello, World! を追加
    $target = $fragment.find('#inner-target');
    $target.text('Hello, World!');

    // #inner-target が存在する DOM を #target にぶら下げる
    $('#target').append($fragment);
  </script>
</body>
</html>


