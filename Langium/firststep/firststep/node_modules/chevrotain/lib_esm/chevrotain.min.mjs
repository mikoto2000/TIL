var R=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Tr=R(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.VERSION=void 0;kt.VERSION="9.1.0"});var k=R((exports,module)=>{"use strict";var __spreadArray=exports&&exports.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))};Object.defineProperty(exports,"__esModule",{value:!0});exports.toFastProperties=exports.timer=exports.peek=exports.isES2015MapSupported=exports.PRINT_WARNING=exports.PRINT_ERROR=exports.packArray=exports.IDENTITY=exports.NOOP=exports.merge=exports.groupBy=exports.defaults=exports.assignNoOverwrite=exports.assign=exports.zipObject=exports.sortBy=exports.indexOf=exports.some=exports.difference=exports.every=exports.isObject=exports.isRegExp=exports.isArray=exports.partial=exports.uniq=exports.compact=exports.reduce=exports.findAll=exports.find=exports.cloneObj=exports.cloneArr=exports.contains=exports.has=exports.pick=exports.reject=exports.filter=exports.dropRight=exports.drop=exports.isFunction=exports.isUndefined=exports.isString=exports.forEach=exports.last=exports.first=exports.flatten=exports.map=exports.mapValues=exports.values=exports.keys=exports.isEmpty=void 0;exports.upperFirst=void 0;function isEmpty(t){return t&&t.length===0}exports.isEmpty=isEmpty;function keys(t){return t==null?[]:Object.keys(t)}exports.keys=keys;function values(t){for(var e=[],r=Object.keys(t),n=0;n<r.length;n++)e.push(t[r[n]]);return e}exports.values=values;function mapValues(t,e){for(var r=[],n=keys(t),i=0;i<n.length;i++){var a=n[i];r.push(e.call(null,t[a],a))}return r}exports.mapValues=mapValues;function map(t,e){for(var r=[],n=0;n<t.length;n++)r.push(e.call(null,t[n],n));return r}exports.map=map;function flatten(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];Array.isArray(n)?e=e.concat(flatten(n)):e.push(n)}return e}exports.flatten=flatten;function first(t){return isEmpty(t)?void 0:t[0]}exports.first=first;function last(t){var e=t&&t.length;return e?t[e-1]:void 0}exports.last=last;function forEach(t,e){if(Array.isArray(t))for(var r=0;r<t.length;r++)e.call(null,t[r],r);else if(isObject(t))for(var n=keys(t),r=0;r<n.length;r++){var i=n[r],a=t[i];e.call(null,a,i)}else throw Error("non exhaustive match")}exports.forEach=forEach;function isString(t){return typeof t=="string"}exports.isString=isString;function isUndefined(t){return t===void 0}exports.isUndefined=isUndefined;function isFunction(t){return t instanceof Function}exports.isFunction=isFunction;function drop(t,e){return e===void 0&&(e=1),t.slice(e,t.length)}exports.drop=drop;function dropRight(t,e){return e===void 0&&(e=1),t.slice(0,t.length-e)}exports.dropRight=dropRight;function filter(t,e){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n++){var i=t[n];e.call(null,i)&&r.push(i)}return r}exports.filter=filter;function reject(t,e){return filter(t,function(r){return!e(r)})}exports.reject=reject;function pick(t,e){for(var r=Object.keys(t),n={},i=0;i<r.length;i++){var a=r[i],o=t[a];e(o)&&(n[a]=o)}return n}exports.pick=pick;function has(t,e){return isObject(t)?t.hasOwnProperty(e):!1}exports.has=has;function contains(t,e){return find(t,function(r){return r===e})!==void 0}exports.contains=contains;function cloneArr(t){for(var e=[],r=0;r<t.length;r++)e.push(t[r]);return e}exports.cloneArr=cloneArr;function cloneObj(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}exports.cloneObj=cloneObj;function find(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(e.call(null,n))return n}}exports.find=find;function findAll(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n];e.call(null,i)&&r.push(i)}return r}exports.findAll=findAll;function reduce(t,e,r){for(var n=Array.isArray(t),i=n?t:values(t),a=n?[]:keys(t),o=r,s=0;s<i.length;s++)o=e.call(null,o,i[s],n?s:a[s]);return o}exports.reduce=reduce;function compact(t){return reject(t,function(e){return e==null})}exports.compact=compact;function uniq(t,e){e===void 0&&(e=function(n){return n});var r=[];return reduce(t,function(n,i){var a=e(i);return contains(r,a)?n:(r.push(a),n.concat(i))},[])}exports.uniq=uniq;function partial(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=[null],i=n.concat(e);return Function.bind.apply(t,i)}exports.partial=partial;function isArray(t){return Array.isArray(t)}exports.isArray=isArray;function isRegExp(t){return t instanceof RegExp}exports.isRegExp=isRegExp;function isObject(t){return t instanceof Object}exports.isObject=isObject;function every(t,e){for(var r=0;r<t.length;r++)if(!e(t[r],r))return!1;return!0}exports.every=every;function difference(t,e){return reject(t,function(r){return contains(e,r)})}exports.difference=difference;function some(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return!0;return!1}exports.some=some;function indexOf(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return r;return-1}exports.indexOf=indexOf;function sortBy(t,e){var r=cloneArr(t);return r.sort(function(n,i){return e(n)-e(i)}),r}exports.sortBy=sortBy;function zipObject(t,e){if(t.length!==e.length)throw Error("can't zipObject with different number of keys and values!");for(var r={},n=0;n<t.length;n++)r[t[n]]=e[n];return r}exports.zipObject=zipObject;function assign(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n++)for(var i=e[n],a=keys(i),o=0;o<a.length;o++){var s=a[o];t[s]=i[s]}return t}exports.assign=assign;function assignNoOverwrite(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];for(var n=0;n<e.length;n++)for(var i=e[n],a=keys(i),o=0;o<a.length;o++){var s=a[o];has(t,s)||(t[s]=i[s])}return t}exports.assignNoOverwrite=assignNoOverwrite;function defaults(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return assignNoOverwrite.apply(void 0,__spreadArray([{}],t,!1))}exports.defaults=defaults;function groupBy(t,e){var r={};return forEach(t,function(n){var i=e(n),a=r[i];a?a.push(n):r[i]=[n]}),r}exports.groupBy=groupBy;function merge(t,e){for(var r=cloneObj(t),n=keys(e),i=0;i<n.length;i++){var a=n[i],o=e[a];r[a]=o}return r}exports.merge=merge;function NOOP(){}exports.NOOP=NOOP;function IDENTITY(t){return t}exports.IDENTITY=IDENTITY;function packArray(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];e.push(n!==void 0?n:void 0)}return e}exports.packArray=packArray;function PRINT_ERROR(t){console&&console.error&&console.error("Error: "+t)}exports.PRINT_ERROR=PRINT_ERROR;function PRINT_WARNING(t){console&&console.warn&&console.warn("Warning: "+t)}exports.PRINT_WARNING=PRINT_WARNING;function isES2015MapSupported(){return typeof Map=="function"}exports.isES2015MapSupported=isES2015MapSupported;function peek(t){return t[t.length-1]}exports.peek=peek;function timer(t){var e=new Date().getTime(),r=t(),n=new Date().getTime(),i=n-e;return{time:i,value:r}}exports.timer=timer;function toFastProperties(toBecomeFast){function FakeConstructor(){}FakeConstructor.prototype=toBecomeFast;var fakeInstance=new FakeConstructor;function fakeAccess(){return typeof fakeInstance.bar}return fakeAccess(),fakeAccess(),toBecomeFast;eval(toBecomeFast)}exports.toFastProperties=toFastProperties;function upperFirst(t){if(!t)return t;var e=getCharacterFromCodePointAt(t,0);return e.toUpperCase()+t.substring(e.length)}exports.upperFirst=upperFirst;var surrogatePairPattern=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;function getCharacterFromCodePointAt(t,e){var r=t.substring(e,e+1);return surrogatePairPattern.test(r)?r:t[e]}});var xt=R((un,St)=>{(function(t,e){typeof define=="function"&&define.amd?define([],e):typeof St=="object"&&St.exports?St.exports=e():t.regexpToAst=e()})(typeof self!="undefined"?self:un,function(){function t(){}t.prototype.saveState=function(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}},t.prototype.restoreState=function(u){this.idx=u.idx,this.input=u.input,this.groupIdx=u.groupIdx},t.prototype.pattern=function(u){this.idx=0,this.input=u,this.groupIdx=0,this.consumeChar("/");var d=this.disjunction();this.consumeChar("/");for(var _={type:"Flags",loc:{begin:this.idx,end:u.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};this.isRegExpFlag();)switch(this.popChar()){case"g":o(_,"global");break;case"i":o(_,"ignoreCase");break;case"m":o(_,"multiLine");break;case"u":o(_,"unicode");break;case"y":o(_,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:_,value:d,loc:this.loc(0)}},t.prototype.disjunction=function(){var u=[],d=this.idx;for(u.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),u.push(this.alternative());return{type:"Disjunction",value:u,loc:this.loc(d)}},t.prototype.alternative=function(){for(var u=[],d=this.idx;this.isTerm();)u.push(this.term());return{type:"Alternative",value:u,loc:this.loc(d)}},t.prototype.term=function(){return this.isAssertion()?this.assertion():this.atom()},t.prototype.assertion=function(){var u=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(u)};case"$":return{type:"EndAnchor",loc:this.loc(u)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(u)};case"B":return{type:"NonWordBoundary",loc:this.loc(u)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");var d;switch(this.popChar()){case"=":d="Lookahead";break;case"!":d="NegativeLookahead";break}s(d);var _=this.disjunction();return this.consumeChar(")"),{type:d,value:_,loc:this.loc(u)}}c()},t.prototype.quantifier=function(u){var d,_=this.idx;switch(this.popChar()){case"*":d={atLeast:0,atMost:1/0};break;case"+":d={atLeast:1,atMost:1/0};break;case"?":d={atLeast:0,atMost:1};break;case"{":var g=this.integerIncludingZero();switch(this.popChar()){case"}":d={atLeast:g,atMost:g};break;case",":var A;this.isDigit()?(A=this.integerIncludingZero(),d={atLeast:g,atMost:A}):d={atLeast:g,atMost:1/0},this.consumeChar("}");break}if(u===!0&&d===void 0)return;s(d);break}if(!(u===!0&&d===void 0))return s(d),this.peekChar(0)==="?"?(this.consumeChar("?"),d.greedy=!1):d.greedy=!0,d.type="Quantifier",d.loc=this.loc(_),d},t.prototype.atom=function(){var u,d=this.idx;switch(this.peekChar()){case".":u=this.dotAll();break;case"\\":u=this.atomEscape();break;case"[":u=this.characterClass();break;case"(":u=this.group();break}return u===void 0&&this.isPatternCharacter()&&(u=this.patternCharacter()),s(u),u.loc=this.loc(d),this.isQuantifier()&&(u.quantifier=this.quantifier()),u},t.prototype.dotAll=function(){return this.consumeChar("."),{type:"Set",complement:!0,value:[i(`
`),i("\r"),i("\u2028"),i("\u2029")]}},t.prototype.atomEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.decimalEscapeAtom=function(){var u=this.positiveInteger();return{type:"GroupBackReference",value:u}},t.prototype.characterClassEscape=function(){var u,d=!1;switch(this.popChar()){case"d":u=p;break;case"D":u=p,d=!0;break;case"s":u=m;break;case"S":u=m,d=!0;break;case"w":u=f;break;case"W":u=f,d=!0;break}return s(u),{type:"Set",value:u,complement:d}},t.prototype.controlEscapeAtom=function(){var u;switch(this.popChar()){case"f":u=i("\f");break;case"n":u=i(`
`);break;case"r":u=i("\r");break;case"t":u=i("	");break;case"v":u=i("\v");break}return s(u),{type:"Character",value:u}},t.prototype.controlLetterEscapeAtom=function(){this.consumeChar("c");var u=this.popChar();if(/[a-zA-Z]/.test(u)===!1)throw Error("Invalid ");var d=u.toUpperCase().charCodeAt(0)-64;return{type:"Character",value:d}},t.prototype.nulCharacterAtom=function(){return this.consumeChar("0"),{type:"Character",value:i("\0")}},t.prototype.hexEscapeSequenceAtom=function(){return this.consumeChar("x"),this.parseHexDigits(2)},t.prototype.regExpUnicodeEscapeSequenceAtom=function(){return this.consumeChar("u"),this.parseHexDigits(4)},t.prototype.identityEscapeAtom=function(){var u=this.popChar();return{type:"Character",value:i(u)}},t.prototype.classPatternCharacterAtom=function(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:var u=this.popChar();return{type:"Character",value:i(u)}}},t.prototype.characterClass=function(){var u=[],d=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),d=!0);this.isClassAtom();){var _=this.classAtom(),g=_.type==="Character";if(g&&this.isRangeDash()){this.consumeChar("-");var A=this.classAtom(),E=A.type==="Character";if(E){if(A.value<_.value)throw Error("Range out of order in character class");u.push({from:_.value,to:A.value})}else a(_.value,u),u.push(i("-")),a(A.value,u)}else a(_.value,u)}return this.consumeChar("]"),{type:"Set",complement:d,value:u}},t.prototype.classAtom=function(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}},t.prototype.classEscape=function(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:i("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}},t.prototype.group=function(){var u=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),u=!1;break;default:this.groupIdx++;break}var d=this.disjunction();this.consumeChar(")");var _={type:"Group",capturing:u,value:d};return u&&(_.idx=this.groupIdx),_},t.prototype.positiveInteger=function(){var u=this.popChar();if(n.test(u)===!1)throw Error("Expecting a positive integer");for(;r.test(this.peekChar(0));)u+=this.popChar();return parseInt(u,10)},t.prototype.integerIncludingZero=function(){var u=this.popChar();if(r.test(u)===!1)throw Error("Expecting an integer");for(;r.test(this.peekChar(0));)u+=this.popChar();return parseInt(u,10)},t.prototype.patternCharacter=function(){var u=this.popChar();switch(u){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:i(u)}}},t.prototype.isRegExpFlag=function(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}},t.prototype.isRangeDash=function(){return this.peekChar()==="-"&&this.isClassAtom(1)},t.prototype.isDigit=function(){return r.test(this.peekChar(0))},t.prototype.isClassAtom=function(u){switch(u===void 0&&(u=0),this.peekChar(u)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.isTerm=function(){return this.isAtom()||this.isAssertion()},t.prototype.isAtom=function(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}},t.prototype.isAssertion=function(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}},t.prototype.isQuantifier=function(){var u=this.saveState();try{return this.quantifier(!0)!==void 0}catch(d){return!1}finally{this.restoreState(u)}},t.prototype.isPatternCharacter=function(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}},t.prototype.parseHexDigits=function(u){for(var d="",_=0;_<u;_++){var g=this.popChar();if(e.test(g)===!1)throw Error("Expecting a HexDecimal digits");d+=g}var A=parseInt(d,16);return{type:"Character",value:A}},t.prototype.peekChar=function(u){return u===void 0&&(u=0),this.input[this.idx+u]},t.prototype.popChar=function(){var u=this.peekChar(0);return this.consumeChar(),u},t.prototype.consumeChar=function(u){if(u!==void 0&&this.input[this.idx]!==u)throw Error("Expected: '"+u+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++},t.prototype.loc=function(u){return{begin:u,end:this.idx}};var e=/[0-9a-fA-F]/,r=/[0-9]/,n=/[1-9]/;function i(u){return u.charCodeAt(0)}function a(u,d){u.length!==void 0?u.forEach(function(_){d.push(_)}):d.push(u)}function o(u,d){if(u[d]===!0)throw"duplicate flag "+d;u[d]=!0}function s(u){if(u===void 0)throw Error("Internal Error - Should never get here!")}function c(){throw Error("Internal Error - Should never get here!")}var l,p=[];for(l=i("0");l<=i("9");l++)p.push(l);var f=[i("_")].concat(p);for(l=i("a");l<=i("z");l++)f.push(l);for(l=i("A");l<=i("Z");l++)f.push(l);var m=[i(" "),i("\f"),i(`
`),i("\r"),i("	"),i("\v"),i("	"),i("\xA0"),i("\u1680"),i("\u2000"),i("\u2001"),i("\u2002"),i("\u2003"),i("\u2004"),i("\u2005"),i("\u2006"),i("\u2007"),i("\u2008"),i("\u2009"),i("\u200A"),i("\u2028"),i("\u2029"),i("\u202F"),i("\u205F"),i("\u3000"),i("\uFEFF")];function v(){}return v.prototype.visitChildren=function(u){for(var d in u){var _=u[d];u.hasOwnProperty(d)&&(_.type!==void 0?this.visit(_):Array.isArray(_)&&_.forEach(function(g){this.visit(g)},this))}},v.prototype.visit=function(u){switch(u.type){case"Pattern":this.visitPattern(u);break;case"Flags":this.visitFlags(u);break;case"Disjunction":this.visitDisjunction(u);break;case"Alternative":this.visitAlternative(u);break;case"StartAnchor":this.visitStartAnchor(u);break;case"EndAnchor":this.visitEndAnchor(u);break;case"WordBoundary":this.visitWordBoundary(u);break;case"NonWordBoundary":this.visitNonWordBoundary(u);break;case"Lookahead":this.visitLookahead(u);break;case"NegativeLookahead":this.visitNegativeLookahead(u);break;case"Character":this.visitCharacter(u);break;case"Set":this.visitSet(u);break;case"Group":this.visitGroup(u);break;case"GroupBackReference":this.visitGroupBackReference(u);break;case"Quantifier":this.visitQuantifier(u);break}this.visitChildren(u)},v.prototype.visitPattern=function(u){},v.prototype.visitFlags=function(u){},v.prototype.visitDisjunction=function(u){},v.prototype.visitAlternative=function(u){},v.prototype.visitStartAnchor=function(u){},v.prototype.visitEndAnchor=function(u){},v.prototype.visitWordBoundary=function(u){},v.prototype.visitNonWordBoundary=function(u){},v.prototype.visitLookahead=function(u){},v.prototype.visitNegativeLookahead=function(u){},v.prototype.visitCharacter=function(u){},v.prototype.visitSet=function(u){},v.prototype.visitGroup=function(u){},v.prototype.visitGroupBackReference=function(u){},v.prototype.visitQuantifier=function(u){},{RegExpParser:t,BaseRegExpVisitor:v,VERSION:"0.5.0"}})});var Lt=R(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.clearRegExpParserCache=He.getRegExpAst=void 0;var Wa=xt(),Ct={},Ba=new Wa.RegExpParser;function qa(t){var e=t.toString();if(Ct.hasOwnProperty(e))return Ct[e];var r=Ba.pattern(e);return Ct[e]=r,r}He.getRegExpAst=qa;function ja(){Ct={}}He.clearRegExpParserCache=ja});var hn=R(te=>{"use strict";var Va=te&&te.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(te,"__esModule",{value:!0});te.canMatchCharCode=te.firstCharOptimizedIndices=te.getOptimizedStartCodesIndices=te.failedOptimizationPrefixMsg=void 0;var cn=xt(),fe=k(),ln=Lt(),Le=_r(),fn="Complement Sets are not supported for first char optimization";te.failedOptimizationPrefixMsg=`Unable to use "first char" lexer optimizations:
`;function Ka(t,e){e===void 0&&(e=!1);try{var r=(0,ln.getRegExpAst)(t),n=Mt(r.value,{},r.flags.ignoreCase);return n}catch(a){if(a.message===fn)e&&(0,fe.PRINT_WARNING)(""+te.failedOptimizationPrefixMsg+("	Unable to optimize: < "+t.toString()+` >
`)+`	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{var i="";e&&(i=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),(0,fe.PRINT_ERROR)(te.failedOptimizationPrefixMsg+`
`+("	Failed parsing: < "+t.toString()+` >
`)+("	Using the regexp-to-ast library version: "+cn.VERSION+`
`)+"	Please open an issue at: https://github.com/bd82/regexp-to-ast/issues"+i)}}return[]}te.getOptimizedStartCodesIndices=Ka;function Mt(t,e,r){switch(t.type){case"Disjunction":for(var n=0;n<t.value.length;n++)Mt(t.value[n],e,r);break;case"Alternative":for(var i=t.value,n=0;n<i.length;n++){var a=i[n];switch(a.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}var o=a;switch(o.type){case"Character":bt(o.value,e,r);break;case"Set":if(o.complement===!0)throw Error(fn);(0,fe.forEach)(o.value,function(l){if(typeof l=="number")bt(l,e,r);else{var p=l;if(r===!0)for(var f=p.from;f<=p.to;f++)bt(f,e,r);else{for(var f=p.from;f<=p.to&&f<Le.minOptimizationVal;f++)bt(f,e,r);if(p.to>=Le.minOptimizationVal)for(var m=p.from>=Le.minOptimizationVal?p.from:Le.minOptimizationVal,v=p.to,u=(0,Le.charCodeToOptimizedIndex)(m),d=(0,Le.charCodeToOptimizedIndex)(v),_=u;_<=d;_++)e[_]=_}}});break;case"Group":Mt(o.value,e,r);break;default:throw Error("Non Exhaustive Match")}var s=o.quantifier!==void 0&&o.quantifier.atLeast===0;if(o.type==="Group"&&yr(o)===!1||o.type!=="Group"&&s===!1)break}break;default:throw Error("non exhaustive match!")}return(0,fe.values)(e)}te.firstCharOptimizedIndices=Mt;function bt(t,e,r){var n=(0,Le.charCodeToOptimizedIndex)(t);e[n]=n,r===!0&&za(t,e)}function za(t,e){var r=String.fromCharCode(t),n=r.toUpperCase();if(n!==r){var i=(0,Le.charCodeToOptimizedIndex)(n.charCodeAt(0));e[i]=i}else{var a=r.toLowerCase();if(a!==r){var i=(0,Le.charCodeToOptimizedIndex)(a.charCodeAt(0));e[i]=i}}}function pn(t,e){return(0,fe.find)(t.value,function(r){if(typeof r=="number")return(0,fe.contains)(e,r);var n=r;return(0,fe.find)(e,function(i){return n.from<=i&&i<=n.to})!==void 0})}function yr(t){return t.quantifier&&t.quantifier.atLeast===0?!0:t.value?(0,fe.isArray)(t.value)?(0,fe.every)(t.value,yr):yr(t.value):!1}var Ha=function(t){Va(e,t);function e(r){var n=t.call(this)||this;return n.targetCharCodes=r,n.found=!1,n}return e.prototype.visitChildren=function(r){if(this.found!==!0){switch(r.type){case"Lookahead":this.visitLookahead(r);return;case"NegativeLookahead":this.visitNegativeLookahead(r);return}t.prototype.visitChildren.call(this,r)}},e.prototype.visitCharacter=function(r){(0,fe.contains)(this.targetCharCodes,r.value)&&(this.found=!0)},e.prototype.visitSet=function(r){r.complement?pn(r,this.targetCharCodes)===void 0&&(this.found=!0):pn(r,this.targetCharCodes)!==void 0&&(this.found=!0)},e}(cn.BaseRegExpVisitor);function Ya(t,e){if(e instanceof RegExp){var r=(0,ln.getRegExpAst)(e),n=new Ha(t);return n.visit(r),n.found}else return(0,fe.find)(e,function(i){return(0,fe.contains)(t,i.charCodeAt(0))})!==void 0}te.canMatchCharCode=Ya});var _r=R(y=>{"use strict";var dn=y&&y.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(y,"__esModule",{value:!0});y.charCodeToOptimizedIndex=y.minOptimizationVal=y.buildLineBreakIssueMessage=y.LineTerminatorOptimizedTester=y.isShortPattern=y.isCustomPattern=y.cloneEmptyGroups=y.performWarningRuntimeChecks=y.performRuntimeChecks=y.addStickyFlag=y.addStartOfInput=y.findUnreachablePatterns=y.findModesThatDoNotExist=y.findInvalidGroupType=y.findDuplicatePatterns=y.findUnsupportedFlags=y.findStartOfInputAnchor=y.findEmptyMatchRegExps=y.findEndOfInputAnchor=y.findInvalidPatterns=y.findMissingPatterns=y.validatePatterns=y.analyzeTokenTypes=y.enableSticky=y.disableSticky=y.SUPPORT_STICKY=y.MODES=y.DEFAULT_MODE=void 0;var vn=xt(),F=lt(),h=k(),Ye=hn(),mn=Lt(),Re="PATTERN";y.DEFAULT_MODE="defaultMode";y.MODES="modes";y.SUPPORT_STICKY=typeof new RegExp("(?:)").sticky=="boolean";function Xa(){y.SUPPORT_STICKY=!1}y.disableSticky=Xa;function $a(){y.SUPPORT_STICKY=!0}y.enableSticky=$a;function Za(t,e){e=(0,h.defaults)(e,{useSticky:y.SUPPORT_STICKY,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:function(A,E){return E()}});var r=e.tracer;r("initCharCodeToOptimizedIndexMap",function(){so()});var n;r("Reject Lexer.NA",function(){n=(0,h.reject)(t,function(A){return A[Re]===F.Lexer.NA})});var i=!1,a;r("Transform Patterns",function(){i=!1,a=(0,h.map)(n,function(A){var E=A[Re];if((0,h.isRegExp)(E)){var P=E.source;return P.length===1&&P!=="^"&&P!=="$"&&P!=="."&&!E.ignoreCase?P:P.length===2&&P[0]==="\\"&&!(0,h.contains)(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],P[1])?P[1]:e.useSticky?Ar(E):gr(E)}else{if((0,h.isFunction)(E))return i=!0,{exec:E};if((0,h.has)(E,"exec"))return i=!0,E;if(typeof E=="string"){if(E.length===1)return E;var oe=E.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),L=new RegExp(oe);return e.useSticky?Ar(L):gr(L)}else throw Error("non exhaustive match")}})});var o,s,c,l,p;r("misc mapping",function(){o=(0,h.map)(n,function(A){return A.tokenTypeIdx}),s=(0,h.map)(n,function(A){var E=A.GROUP;if(E!==F.Lexer.SKIPPED){if((0,h.isString)(E))return E;if((0,h.isUndefined)(E))return!1;throw Error("non exhaustive match")}}),c=(0,h.map)(n,function(A){var E=A.LONGER_ALT;if(E){var P=(0,h.isArray)(E)?(0,h.map)(E,function(oe){return(0,h.indexOf)(n,oe)}):[(0,h.indexOf)(n,E)];return P}}),l=(0,h.map)(n,function(A){return A.PUSH_MODE}),p=(0,h.map)(n,function(A){return(0,h.has)(A,"POP_MODE")})});var f;r("Line Terminator Handling",function(){var A=xn(e.lineTerminatorCharacters);f=(0,h.map)(n,function(E){return!1}),e.positionTracking!=="onlyOffset"&&(f=(0,h.map)(n,function(E){if((0,h.has)(E,"LINE_BREAKS"))return E.LINE_BREAKS;if(kn(E,A)===!1)return(0,Ye.canMatchCharCode)(A,E.PATTERN)}))});var m,v,u,d;r("Misc Mapping #2",function(){m=(0,h.map)(n,Rr),v=(0,h.map)(a,Pn),u=(0,h.reduce)(n,function(A,E){var P=E.GROUP;return(0,h.isString)(P)&&P!==F.Lexer.SKIPPED&&(A[P]=[]),A},{}),d=(0,h.map)(a,function(A,E){return{pattern:a[E],longerAlt:c[E],canLineTerminator:f[E],isCustom:m[E],short:v[E],group:s[E],push:l[E],pop:p[E],tokenTypeIdx:o[E],tokenType:n[E]}})});var _=!0,g=[];return e.safeMode||r("First Char Optimization",function(){g=(0,h.reduce)(n,function(A,E,P){if(typeof E.PATTERN=="string"){var oe=E.PATTERN.charCodeAt(0),L=Nr(oe);Or(A,L,d[P])}else if((0,h.isArray)(E.START_CHARS_HINT)){var ee;(0,h.forEach)(E.START_CHARS_HINT,function(X){var se=typeof X=="string"?X.charCodeAt(0):X,ue=Nr(se);ee!==ue&&(ee=ue,Or(A,ue,d[P]))})}else if((0,h.isRegExp)(E.PATTERN))if(E.PATTERN.unicode)_=!1,e.ensureOptimizations&&(0,h.PRINT_ERROR)(""+Ye.failedOptimizationPrefixMsg+("	Unable to analyze < "+E.PATTERN.toString()+` > pattern.
`)+`	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{var ge=(0,Ye.getOptimizedStartCodesIndices)(E.PATTERN,e.ensureOptimizations);(0,h.isEmpty)(ge)&&(_=!1),(0,h.forEach)(ge,function(X){Or(A,X,d[P])})}else e.ensureOptimizations&&(0,h.PRINT_ERROR)(""+Ye.failedOptimizationPrefixMsg+("	TokenType: <"+E.name+`> is using a custom token pattern without providing <start_chars_hint> parameter.
`)+`	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),_=!1;return A},[])}),r("ArrayPacking",function(){g=(0,h.packArray)(g)}),{emptyGroups:u,patternIdxToConfig:d,charCodeToPatternIdxToConfig:g,hasCustom:i,canBeOptimized:_}}y.analyzeTokenTypes=Za;function Qa(t,e){var r=[],n=En(t);r=r.concat(n.errors);var i=Tn(n.valid),a=i.valid;return r=r.concat(i.errors),r=r.concat(Ja(a)),r=r.concat(On(a)),r=r.concat(Nn(a,e)),r=r.concat(In(a)),r}y.validatePatterns=Qa;function Ja(t){var e=[],r=(0,h.filter)(t,function(n){return(0,h.isRegExp)(n[Re])});return e=e.concat(yn(r)),e=e.concat(gn(r)),e=e.concat(An(r)),e=e.concat(Rn(r)),e=e.concat(_n(r)),e}function En(t){var e=(0,h.filter)(t,function(i){return!(0,h.has)(i,Re)}),r=(0,h.map)(e,function(i){return{message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:F.LexerDefinitionErrorType.MISSING_PATTERN,tokenTypes:[i]}}),n=(0,h.difference)(t,e);return{errors:r,valid:n}}y.findMissingPatterns=En;function Tn(t){var e=(0,h.filter)(t,function(i){var a=i[Re];return!(0,h.isRegExp)(a)&&!(0,h.isFunction)(a)&&!(0,h.has)(a,"exec")&&!(0,h.isString)(a)}),r=(0,h.map)(e,function(i){return{message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:F.LexerDefinitionErrorType.INVALID_PATTERN,tokenTypes:[i]}}),n=(0,h.difference)(t,e);return{errors:r,valid:n}}y.findInvalidPatterns=Tn;var eo=/[^\\][\$]/;function yn(t){var e=function(i){dn(a,i);function a(){var o=i!==null&&i.apply(this,arguments)||this;return o.found=!1,o}return a.prototype.visitEndAnchor=function(o){this.found=!0},a}(vn.BaseRegExpVisitor),r=(0,h.filter)(t,function(i){var a=i[Re];try{var o=(0,mn.getRegExpAst)(a),s=new e;return s.visit(o),s.found}catch(c){return eo.test(a.source)}}),n=(0,h.map)(r,function(i){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:F.LexerDefinitionErrorType.EOI_ANCHOR_FOUND,tokenTypes:[i]}});return n}y.findEndOfInputAnchor=yn;function _n(t){var e=(0,h.filter)(t,function(n){var i=n[Re];return i.test("")}),r=(0,h.map)(e,function(n){return{message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:F.LexerDefinitionErrorType.EMPTY_MATCH_PATTERN,tokenTypes:[n]}});return r}y.findEmptyMatchRegExps=_n;var to=/[^\\[][\^]|^\^/;function gn(t){var e=function(i){dn(a,i);function a(){var o=i!==null&&i.apply(this,arguments)||this;return o.found=!1,o}return a.prototype.visitStartAnchor=function(o){this.found=!0},a}(vn.BaseRegExpVisitor),r=(0,h.filter)(t,function(i){var a=i[Re];try{var o=(0,mn.getRegExpAst)(a),s=new e;return s.visit(o),s.found}catch(c){return to.test(a.source)}}),n=(0,h.map)(r,function(i){return{message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:F.LexerDefinitionErrorType.SOI_ANCHOR_FOUND,tokenTypes:[i]}});return n}y.findStartOfInputAnchor=gn;function An(t){var e=(0,h.filter)(t,function(n){var i=n[Re];return i instanceof RegExp&&(i.multiline||i.global)}),r=(0,h.map)(e,function(n){return{message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:F.LexerDefinitionErrorType.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}});return r}y.findUnsupportedFlags=An;function Rn(t){var e=[],r=(0,h.map)(t,function(a){return(0,h.reduce)(t,function(o,s){return a.PATTERN.source===s.PATTERN.source&&!(0,h.contains)(e,s)&&s.PATTERN!==F.Lexer.NA&&(e.push(s),o.push(s)),o},[])});r=(0,h.compact)(r);var n=(0,h.filter)(r,function(a){return a.length>1}),i=(0,h.map)(n,function(a){var o=(0,h.map)(a,function(c){return c.name}),s=(0,h.first)(a).PATTERN;return{message:"The same RegExp pattern ->"+s+"<-"+("has been used in all of the following Token Types: "+o.join(", ")+" <-"),type:F.LexerDefinitionErrorType.DUPLICATE_PATTERNS_FOUND,tokenTypes:a}});return i}y.findDuplicatePatterns=Rn;function On(t){var e=(0,h.filter)(t,function(n){if(!(0,h.has)(n,"GROUP"))return!1;var i=n.GROUP;return i!==F.Lexer.SKIPPED&&i!==F.Lexer.NA&&!(0,h.isString)(i)}),r=(0,h.map)(e,function(n){return{message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:F.LexerDefinitionErrorType.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}});return r}y.findInvalidGroupType=On;function Nn(t,e){var r=(0,h.filter)(t,function(i){return i.PUSH_MODE!==void 0&&!(0,h.contains)(e,i.PUSH_MODE)}),n=(0,h.map)(r,function(i){var a="Token Type: ->"+i.name+"<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->"+i.PUSH_MODE+"<-which does not exist";return{message:a,type:F.LexerDefinitionErrorType.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}});return n}y.findModesThatDoNotExist=Nn;function In(t){var e=[],r=(0,h.reduce)(t,function(n,i,a){var o=i.PATTERN;return o===F.Lexer.NA||((0,h.isString)(o)?n.push({str:o,idx:a,tokenType:i}):(0,h.isRegExp)(o)&&no(o)&&n.push({str:o.source,idx:a,tokenType:i})),n},[]);return(0,h.forEach)(t,function(n,i){(0,h.forEach)(r,function(a){var o=a.str,s=a.idx,c=a.tokenType;if(i<s&&ro(o,n.PATTERN)){var l="Token: ->"+c.name+`<- can never be matched.
`+("Because it appears AFTER the Token Type ->"+n.name+"<-")+`in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:l,type:F.LexerDefinitionErrorType.UNREACHABLE_PATTERN,tokenTypes:[n,c]})}})}),e}y.findUnreachablePatterns=In;function ro(t,e){if((0,h.isRegExp)(e)){var r=e.exec(t);return r!==null&&r.index===0}else{if((0,h.isFunction)(e))return e(t,0,[],{});if((0,h.has)(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function no(t){var e=[".","\\","[","]","|","^","$","(",")","?","*","+","{"];return(0,h.find)(e,function(r){return t.source.indexOf(r)!==-1})===void 0}function gr(t){var e=t.ignoreCase?"i":"";return new RegExp("^(?:"+t.source+")",e)}y.addStartOfInput=gr;function Ar(t){var e=t.ignoreCase?"iy":"y";return new RegExp(""+t.source,e)}y.addStickyFlag=Ar;function io(t,e,r){var n=[];return(0,h.has)(t,y.DEFAULT_MODE)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+y.DEFAULT_MODE+`> property in its definition
`,type:F.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),(0,h.has)(t,y.MODES)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+y.MODES+`> property in its definition
`,type:F.LexerDefinitionErrorType.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),(0,h.has)(t,y.MODES)&&(0,h.has)(t,y.DEFAULT_MODE)&&!(0,h.has)(t.modes,t.defaultMode)&&n.push({message:"A MultiMode Lexer cannot be initialized with a "+y.DEFAULT_MODE+": <"+t.defaultMode+`>which does not exist
`,type:F.LexerDefinitionErrorType.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),(0,h.has)(t,y.MODES)&&(0,h.forEach)(t.modes,function(i,a){(0,h.forEach)(i,function(o,s){(0,h.isUndefined)(o)&&n.push({message:"A Lexer cannot be initialized using an undefined Token Type. Mode:"+("<"+a+"> at index: <"+s+`>
`),type:F.LexerDefinitionErrorType.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED})})}),n}y.performRuntimeChecks=io;function ao(t,e,r){var n=[],i=!1,a=(0,h.compact)((0,h.flatten)((0,h.mapValues)(t.modes,function(c){return c}))),o=(0,h.reject)(a,function(c){return c[Re]===F.Lexer.NA}),s=xn(r);return e&&(0,h.forEach)(o,function(c){var l=kn(c,s);if(l!==!1){var p=Sn(c,l),f={message:p,type:l.issue,tokenType:c};n.push(f)}else(0,h.has)(c,"LINE_BREAKS")?c.LINE_BREAKS===!0&&(i=!0):(0,Ye.canMatchCharCode)(s,c.PATTERN)&&(i=!0)}),e&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:F.LexerDefinitionErrorType.NO_LINE_BREAKS_FLAGS}),n}y.performWarningRuntimeChecks=ao;function oo(t){var e={},r=(0,h.keys)(t);return(0,h.forEach)(r,function(n){var i=t[n];if((0,h.isArray)(i))e[n]=[];else throw Error("non exhaustive match")}),e}y.cloneEmptyGroups=oo;function Rr(t){var e=t.PATTERN;if((0,h.isRegExp)(e))return!1;if((0,h.isFunction)(e))return!0;if((0,h.has)(e,"exec"))return!0;if((0,h.isString)(e))return!1;throw Error("non exhaustive match")}y.isCustomPattern=Rr;function Pn(t){return(0,h.isString)(t)&&t.length===1?t.charCodeAt(0):!1}y.isShortPattern=Pn;y.LineTerminatorOptimizedTester={test:function(t){for(var e=t.length,r=this.lastIndex;r<e;r++){var n=t.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return t.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function kn(t,e){if((0,h.has)(t,"LINE_BREAKS"))return!1;if((0,h.isRegExp)(t.PATTERN)){try{(0,Ye.canMatchCharCode)(e,t.PATTERN)}catch(r){return{issue:F.LexerDefinitionErrorType.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if((0,h.isString)(t.PATTERN))return!1;if(Rr(t))return{issue:F.LexerDefinitionErrorType.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Sn(t,e){if(e.issue===F.LexerDefinitionErrorType.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
`+("	The problem is in the <"+t.name+`> Token Type
`)+("	 Root cause: "+e.errMsg+`.
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR";if(e.issue===F.LexerDefinitionErrorType.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
`+("	The problem is in the <"+t.name+`> Token Type
`)+"	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK";throw Error("non exhaustive match")}y.buildLineBreakIssueMessage=Sn;function xn(t){var e=(0,h.map)(t,function(r){return(0,h.isString)(r)&&r.length>0?r.charCodeAt(0):r});return e}function Or(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}y.minOptimizationVal=256;var Ft=[];function Nr(t){return t<y.minOptimizationVal?t:Ft[t]}y.charCodeToOptimizedIndex=Nr;function so(){if((0,h.isEmpty)(Ft)){Ft=new Array(65536);for(var t=0;t<65536;t++)Ft[t]=t>255?255+~~(t/255):t}}});var Xe=R(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});N.isTokenType=N.hasExtendingTokensTypesMapProperty=N.hasExtendingTokensTypesProperty=N.hasCategoriesProperty=N.hasShortKeyProperty=N.singleAssignCategoriesToksMap=N.assignCategoriesMapProp=N.assignCategoriesTokensProp=N.assignTokenDefaultProps=N.expandCategories=N.augmentTokenTypes=N.tokenIdxToClass=N.tokenShortNameIdx=N.tokenStructuredMatcherNoCategories=N.tokenStructuredMatcher=void 0;var V=k();function uo(t,e){var r=t.tokenTypeIdx;return r===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[r]===!0}N.tokenStructuredMatcher=uo;function co(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}N.tokenStructuredMatcherNoCategories=co;N.tokenShortNameIdx=1;N.tokenIdxToClass={};function lo(t){var e=Cn(t);Ln(e),bn(e),Mn(e),(0,V.forEach)(e,function(r){r.isParent=r.categoryMatches.length>0})}N.augmentTokenTypes=lo;function Cn(t){for(var e=(0,V.cloneArr)(t),r=t,n=!0;n;){r=(0,V.compact)((0,V.flatten)((0,V.map)(r,function(a){return a.CATEGORIES})));var i=(0,V.difference)(r,e);e=e.concat(i),(0,V.isEmpty)(i)?n=!1:r=i}return e}N.expandCategories=Cn;function Ln(t){(0,V.forEach)(t,function(e){Fn(e)||(N.tokenIdxToClass[N.tokenShortNameIdx]=e,e.tokenTypeIdx=N.tokenShortNameIdx++),Pr(e)&&!(0,V.isArray)(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),Pr(e)||(e.CATEGORIES=[]),wn(e)||(e.categoryMatches=[]),Dn(e)||(e.categoryMatchesMap={})})}N.assignTokenDefaultProps=Ln;function Mn(t){(0,V.forEach)(t,function(e){e.categoryMatches=[],(0,V.forEach)(e.categoryMatchesMap,function(r,n){e.categoryMatches.push(N.tokenIdxToClass[n].tokenTypeIdx)})})}N.assignCategoriesTokensProp=Mn;function bn(t){(0,V.forEach)(t,function(e){Ir([],e)})}N.assignCategoriesMapProp=bn;function Ir(t,e){(0,V.forEach)(t,function(r){e.categoryMatchesMap[r.tokenTypeIdx]=!0}),(0,V.forEach)(e.CATEGORIES,function(r){var n=t.concat(e);(0,V.contains)(n,r)||Ir(n,r)})}N.singleAssignCategoriesToksMap=Ir;function Fn(t){return(0,V.has)(t,"tokenTypeIdx")}N.hasShortKeyProperty=Fn;function Pr(t){return(0,V.has)(t,"CATEGORIES")}N.hasCategoriesProperty=Pr;function wn(t){return(0,V.has)(t,"categoryMatches")}N.hasExtendingTokensTypesProperty=wn;function Dn(t){return(0,V.has)(t,"categoryMatchesMap")}N.hasExtendingTokensTypesMapProperty=Dn;function fo(t){return(0,V.has)(t,"tokenTypeIdx")}N.isTokenType=fo});var kr=R(wt=>{"use strict";Object.defineProperty(wt,"__esModule",{value:!0});wt.defaultLexerErrorProvider=void 0;wt.defaultLexerErrorProvider={buildUnableToPopLexerModeMessage:function(t){return"Unable to pop Lexer Mode after encountering Token ->"+t.image+"<- The Mode Stack is empty"},buildUnexpectedCharactersMessage:function(t,e,r,n,i){return"unexpected character: ->"+t.charAt(e)+"<- at offset: "+e+","+(" skipped "+r+" characters.")}}});var lt=R(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.Lexer=je.LexerDefinitionErrorType=void 0;var me=_r(),w=k(),po=Xe(),ho=kr(),vo=Lt(),mo;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK"})(mo=je.LexerDefinitionErrorType||(je.LexerDefinitionErrorType={}));var ft={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:ho.defaultLexerErrorProvider,traceInitPerf:!1,skipValidations:!1};Object.freeze(ft);var Eo=function(){function t(e,r){var n=this;if(r===void 0&&(r=ft),this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.config=void 0,this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=(0,w.merge)(ft,r);var i=this.config.traceInitPerf;i===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof i=="number"&&(this.traceInitMaxIdent=i,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",function(){var a,o=!0;n.TRACE_INIT("Lexer Config handling",function(){if(n.config.lineTerminatorsPattern===ft.lineTerminatorsPattern)n.config.lineTerminatorsPattern=me.LineTerminatorOptimizedTester;else if(n.config.lineTerminatorCharacters===ft.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');n.trackStartLines=/full|onlyStart/i.test(n.config.positionTracking),n.trackEndLines=/full/i.test(n.config.positionTracking),(0,w.isArray)(e)?(a={modes:{}},a.modes[me.DEFAULT_MODE]=(0,w.cloneArr)(e),a[me.DEFAULT_MODE]=me.DEFAULT_MODE):(o=!1,a=(0,w.cloneObj)(e))}),n.config.skipValidations===!1&&(n.TRACE_INIT("performRuntimeChecks",function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat((0,me.performRuntimeChecks)(a,n.trackStartLines,n.config.lineTerminatorCharacters))}),n.TRACE_INIT("performWarningRuntimeChecks",function(){n.lexerDefinitionWarning=n.lexerDefinitionWarning.concat((0,me.performWarningRuntimeChecks)(a,n.trackStartLines,n.config.lineTerminatorCharacters))})),a.modes=a.modes?a.modes:{},(0,w.forEach)(a.modes,function(p,f){a.modes[f]=(0,w.reject)(p,function(m){return(0,w.isUndefined)(m)})});var s=(0,w.keys)(a.modes);if((0,w.forEach)(a.modes,function(p,f){n.TRACE_INIT("Mode: <"+f+"> processing",function(){if(n.modes.push(f),n.config.skipValidations===!1&&n.TRACE_INIT("validatePatterns",function(){n.lexerDefinitionErrors=n.lexerDefinitionErrors.concat((0,me.validatePatterns)(p,s))}),(0,w.isEmpty)(n.lexerDefinitionErrors)){(0,po.augmentTokenTypes)(p);var m;n.TRACE_INIT("analyzeTokenTypes",function(){m=(0,me.analyzeTokenTypes)(p,{lineTerminatorCharacters:n.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:n.TRACE_INIT.bind(n)})}),n.patternIdxToConfig[f]=m.patternIdxToConfig,n.charCodeToPatternIdxToConfig[f]=m.charCodeToPatternIdxToConfig,n.emptyGroups=(0,w.merge)(n.emptyGroups,m.emptyGroups),n.hasCustom=m.hasCustom||n.hasCustom,n.canModeBeOptimized[f]=m.canBeOptimized}})}),n.defaultMode=a.defaultMode,!(0,w.isEmpty)(n.lexerDefinitionErrors)&&!n.config.deferDefinitionErrorsHandling){var c=(0,w.map)(n.lexerDefinitionErrors,function(p){return p.message}),l=c.join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+l)}(0,w.forEach)(n.lexerDefinitionWarning,function(p){(0,w.PRINT_WARNING)(p.message)}),n.TRACE_INIT("Choosing sub-methods implementations",function(){if(me.SUPPORT_STICKY?(n.chopInput=w.IDENTITY,n.match=n.matchWithTest):(n.updateLastIndex=w.NOOP,n.match=n.matchWithExec),o&&(n.handleModes=w.NOOP),n.trackStartLines===!1&&(n.computeNewColumn=w.IDENTITY),n.trackEndLines===!1&&(n.updateTokenEndLineColumnLocation=w.NOOP),/full/i.test(n.config.positionTracking))n.createTokenInstance=n.createFullToken;else if(/onlyStart/i.test(n.config.positionTracking))n.createTokenInstance=n.createStartOnlyToken;else if(/onlyOffset/i.test(n.config.positionTracking))n.createTokenInstance=n.createOffsetOnlyToken;else throw Error('Invalid <positionTracking> config option: "'+n.config.positionTracking+'"');n.hasCustom?(n.addToken=n.addTokenUsingPush,n.handlePayload=n.handlePayloadWithCustom):(n.addToken=n.addTokenUsingMemberAccess,n.handlePayload=n.handlePayloadNoCustom)}),n.TRACE_INIT("Failed Optimization Warnings",function(){var p=(0,w.reduce)(n.canModeBeOptimized,function(f,m,v){return m===!1&&f.push(v),f},[]);if(r.ensureOptimizations&&!(0,w.isEmpty)(p))throw Error("Lexer Modes: < "+p.join(", ")+` > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),n.TRACE_INIT("clearRegExpParserCache",function(){(0,vo.clearRegExpParserCache)()}),n.TRACE_INIT("toFastProperties",function(){(0,w.toFastProperties)(n)})})}return t.prototype.tokenize=function(e,r){if(r===void 0&&(r=this.defaultMode),!(0,w.isEmpty)(this.lexerDefinitionErrors)){var n=(0,w.map)(this.lexerDefinitionErrors,function(o){return o.message}),i=n.join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}var a=this.tokenizeInternal(e,r);return a},t.prototype.tokenizeInternal=function(e,r){var n=this,i,a,o,s,c,l,p,f,m,v,u,d,_,g,A,E,P=e,oe=P.length,L=0,ee=0,ge=this.hasCustom?0:Math.floor(e.length/10),X=new Array(ge),se=[],ue=this.trackStartLines?1:void 0,Ae=this.trackStartLines?1:void 0,Ce=(0,me.cloneEmptyGroups)(this.emptyGroups),fr=this.trackStartLines,it=this.config.lineTerminatorsPattern,Nt=0,De=[],at=[],It=[],Jr=[];Object.freeze(Jr);var ot=void 0;function en(){return De}function tn(Q){var ct=(0,me.charCodeToOptimizedIndex)(Q),ze=at[ct];return ze===void 0?Jr:ze}var wa=function(Q){if(It.length===1&&Q.tokenType.PUSH_MODE===void 0){var ct=n.config.errorMessageProvider.buildUnableToPopLexerModeMessage(Q);se.push({offset:Q.startOffset,line:Q.startLine!==void 0?Q.startLine:void 0,column:Q.startColumn!==void 0?Q.startColumn:void 0,length:Q.image.length,message:ct})}else{It.pop();var ze=(0,w.last)(It);De=n.patternIdxToConfig[ze],at=n.charCodeToPatternIdxToConfig[ze],Nt=De.length;var Ga=n.canModeBeOptimized[ze]&&n.config.safeMode===!1;at&&Ga?ot=tn:ot=en}};function rn(Q){It.push(Q),at=this.charCodeToPatternIdxToConfig[Q],De=this.patternIdxToConfig[Q],Nt=De.length,Nt=De.length;var ct=this.canModeBeOptimized[Q]&&this.config.safeMode===!1;at&&ct?ot=tn:ot=en}rn.call(this,r);for(var ve;L<oe;){l=null;var nn=P.charCodeAt(L),an=ot(nn),Da=an.length;for(i=0;i<Da;i++){ve=an[i];var Ue=ve.pattern;p=null;var st=ve.short;if(st!==!1?nn===st&&(l=Ue):ve.isCustom===!0?(E=Ue.exec(P,L,X,Ce),E!==null?(l=E[0],E.payload!==void 0&&(p=E.payload)):l=null):(this.updateLastIndex(Ue,L),l=this.match(Ue,e,L)),l!==null){if(c=ve.longerAlt,c!==void 0){var Ua=c.length;for(o=0;o<Ua;o++){var pr=De[c[o]],hr=pr.pattern;if(f=null,pr.isCustom===!0?(E=hr.exec(P,L,X,Ce),E!==null?(s=E[0],E.payload!==void 0&&(f=E.payload)):s=null):(this.updateLastIndex(hr,L),s=this.match(hr,e,L)),s&&s.length>l.length){l=s,p=f,ve=pr;break}}}break}}if(l!==null){if(m=l.length,v=ve.group,v!==void 0&&(u=ve.tokenTypeIdx,d=this.createTokenInstance(l,L,u,ve.tokenType,ue,Ae,m),this.handlePayload(d,p),v===!1?ee=this.addToken(X,ee,d):Ce[v].push(d)),e=this.chopInput(e,m),L=L+m,Ae=this.computeNewColumn(Ae,m),fr===!0&&ve.canLineTerminator===!0){var Pt=0,dr=void 0,vr=void 0;it.lastIndex=0;do dr=it.test(l),dr===!0&&(vr=it.lastIndex-1,Pt++);while(dr===!0);Pt!==0&&(ue=ue+Pt,Ae=m-vr,this.updateTokenEndLineColumnLocation(d,v,vr,Pt,ue,Ae,m))}this.handleModes(ve,wa,rn,d)}else{for(var mr=L,on=ue,sn=Ae,ut=!1;!ut&&L<oe;)for(g=P.charCodeAt(L),e=this.chopInput(e,1),L++,a=0;a<Nt;a++){var Er=De[a],Ue=Er.pattern,st=Er.short;if(st!==!1?P.charCodeAt(L)===st&&(ut=!0):Er.isCustom===!0?ut=Ue.exec(P,L,X,Ce)!==null:(this.updateLastIndex(Ue,L),ut=Ue.exec(e)!==null),ut===!0)break}_=L-mr,A=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(P,mr,_,on,sn),se.push({offset:mr,line:on,column:sn,length:_,message:A})}}return this.hasCustom||(X.length=ee),{tokens:X,groups:Ce,errors:se}},t.prototype.handleModes=function(e,r,n,i){if(e.pop===!0){var a=e.push;r(i),a!==void 0&&n.call(this,a)}else e.push!==void 0&&n.call(this,e.push)},t.prototype.chopInput=function(e,r){return e.substring(r)},t.prototype.updateLastIndex=function(e,r){e.lastIndex=r},t.prototype.updateTokenEndLineColumnLocation=function(e,r,n,i,a,o,s){var c,l;r!==void 0&&(c=n===s-1,l=c?-1:0,i===1&&c===!0||(e.endLine=a+l,e.endColumn=o-1+-l))},t.prototype.computeNewColumn=function(e,r){return e+r},t.prototype.createTokenInstance=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return null},t.prototype.createOffsetOnlyToken=function(e,r,n,i){return{image:e,startOffset:r,tokenTypeIdx:n,tokenType:i}},t.prototype.createStartOnlyToken=function(e,r,n,i,a,o){return{image:e,startOffset:r,startLine:a,startColumn:o,tokenTypeIdx:n,tokenType:i}},t.prototype.createFullToken=function(e,r,n,i,a,o,s){return{image:e,startOffset:r,endOffset:r+s-1,startLine:a,endLine:a,startColumn:o,endColumn:o+s-1,tokenTypeIdx:n,tokenType:i}},t.prototype.addToken=function(e,r,n){return 666},t.prototype.addTokenUsingPush=function(e,r,n){return e.push(n),r},t.prototype.addTokenUsingMemberAccess=function(e,r,n){return e[r]=n,r++,r},t.prototype.handlePayload=function(e,r){},t.prototype.handlePayloadNoCustom=function(e,r){},t.prototype.handlePayloadWithCustom=function(e,r){r!==null&&(e.payload=r)},t.prototype.match=function(e,r,n){return null},t.prototype.matchWithTest=function(e,r,n){var i=e.test(r);return i===!0?r.substring(n,e.lastIndex):null},t.prototype.matchWithExec=function(e,r){var n=e.exec(r);return n!==null?n[0]:n},t.prototype.TRACE_INIT=function(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--> <"+e+">");var i=(0,w.timer)(r),a=i.time,o=i.value,s=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(n+"<-- <"+e+"> time: "+a+"ms"),this.traceInitIndent--,o}else return r()},t.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",t.NA=/NOT_APPLICABLE/,t}();je.Lexer=Eo});var Ge=R(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.tokenMatcher=H.createTokenInstance=H.EOF=H.createToken=H.hasTokenLabel=H.tokenName=H.tokenLabel=void 0;var Ee=k(),To=lt(),Sr=Xe();function yo(t){return Un(t)?t.LABEL:t.name}H.tokenLabel=yo;function _o(t){return t.name}H.tokenName=_o;function Un(t){return(0,Ee.isString)(t.LABEL)&&t.LABEL!==""}H.hasTokenLabel=Un;var go="parent",Gn="categories",Wn="label",Bn="group",qn="push_mode",jn="pop_mode",Vn="longer_alt",Kn="line_breaks",zn="start_chars_hint";function Hn(t){return Ao(t)}H.createToken=Hn;function Ao(t){var e=t.pattern,r={};if(r.name=t.name,(0,Ee.isUndefined)(e)||(r.PATTERN=e),(0,Ee.has)(t,go))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return(0,Ee.has)(t,Gn)&&(r.CATEGORIES=t[Gn]),(0,Sr.augmentTokenTypes)([r]),(0,Ee.has)(t,Wn)&&(r.LABEL=t[Wn]),(0,Ee.has)(t,Bn)&&(r.GROUP=t[Bn]),(0,Ee.has)(t,jn)&&(r.POP_MODE=t[jn]),(0,Ee.has)(t,qn)&&(r.PUSH_MODE=t[qn]),(0,Ee.has)(t,Vn)&&(r.LONGER_ALT=t[Vn]),(0,Ee.has)(t,Kn)&&(r.LINE_BREAKS=t[Kn]),(0,Ee.has)(t,zn)&&(r.START_CHARS_HINT=t[zn]),r}H.EOF=Hn({name:"EOF",pattern:To.Lexer.NA});(0,Sr.augmentTokenTypes)([H.EOF]);function Ro(t,e,r,n,i,a,o,s){return{image:e,startOffset:r,endOffset:n,startLine:i,endLine:a,startColumn:o,endColumn:s,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}H.createTokenInstance=Ro;function Oo(t,e){return(0,Sr.tokenStructuredMatcher)(t,e)}H.tokenMatcher=Oo});var re=R(x=>{"use strict";var Me=x&&x.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(x,"__esModule",{value:!0});x.serializeProduction=x.serializeGrammar=x.Terminal=x.Alternation=x.RepetitionWithSeparator=x.Repetition=x.RepetitionMandatoryWithSeparator=x.RepetitionMandatory=x.Option=x.Alternative=x.Rule=x.NonTerminal=x.AbstractProduction=void 0;var U=k(),No=Ge(),Oe=function(){function t(e){this._definition=e}return Object.defineProperty(t.prototype,"definition",{get:function(){return this._definition},set:function(e){this._definition=e},enumerable:!1,configurable:!0}),t.prototype.accept=function(e){e.visit(this),(0,U.forEach)(this.definition,function(r){r.accept(e)})},t}();x.AbstractProduction=Oe;var Yn=function(t){Me(e,t);function e(r){var n=t.call(this,[])||this;return n.idx=1,(0,U.assign)(n,(0,U.pick)(r,function(i){return i!==void 0})),n}return Object.defineProperty(e.prototype,"definition",{get:function(){return this.referencedRule!==void 0?this.referencedRule.definition:[]},set:function(r){},enumerable:!1,configurable:!0}),e.prototype.accept=function(r){r.visit(this)},e}(Oe);x.NonTerminal=Yn;var Xn=function(t){Me(e,t);function e(r){var n=t.call(this,r.definition)||this;return n.orgText="",(0,U.assign)(n,(0,U.pick)(r,function(i){return i!==void 0})),n}return e}(Oe);x.Rule=Xn;var $n=function(t){Me(e,t);function e(r){var n=t.call(this,r.definition)||this;return n.ignoreAmbiguities=!1,(0,U.assign)(n,(0,U.pick)(r,function(i){return i!==void 0})),n}return e}(Oe);x.Alternative=$n;var Zn=function(t){Me(e,t);function e(r){var n=t.call(this,r.definition)||this;return n.idx=1,(0,U.assign)(n,(0,U.pick)(r,function(i){return i!==void 0})),n}return e}(Oe);x.Option=Zn;var Qn=function(t){Me(e,t);function e(r){var n=t.call(this,r.definition)||this;return n.idx=1,(0,U.assign)(n,(0,U.pick)(r,function(i){return i!==void 0})),n}return e}(Oe);x.RepetitionMandatory=Qn;var Jn=function(t){Me(e,t);function e(r){var n=t.call(this,r.definition)||this;return n.idx=1,(0,U.assign)(n,(0,U.pick)(r,function(i){return i!==void 0})),n}return e}(Oe);x.RepetitionMandatoryWithSeparator=Jn;var ei=function(t){Me(e,t);function e(r){var n=t.call(this,r.definition)||this;return n.idx=1,(0,U.assign)(n,(0,U.pick)(r,function(i){return i!==void 0})),n}return e}(Oe);x.Repetition=ei;var ti=function(t){Me(e,t);function e(r){var n=t.call(this,r.definition)||this;return n.idx=1,(0,U.assign)(n,(0,U.pick)(r,function(i){return i!==void 0})),n}return e}(Oe);x.RepetitionWithSeparator=ti;var ri=function(t){Me(e,t);function e(r){var n=t.call(this,r.definition)||this;return n.idx=1,n.ignoreAmbiguities=!1,n.hasPredicates=!1,(0,U.assign)(n,(0,U.pick)(r,function(i){return i!==void 0})),n}return Object.defineProperty(e.prototype,"definition",{get:function(){return this._definition},set:function(r){this._definition=r},enumerable:!1,configurable:!0}),e}(Oe);x.Alternation=ri;var Dt=function(){function t(e){this.idx=1,(0,U.assign)(this,(0,U.pick)(e,function(r){return r!==void 0}))}return t.prototype.accept=function(e){e.visit(this)},t}();x.Terminal=Dt;function Io(t){return(0,U.map)(t,pt)}x.serializeGrammar=Io;function pt(t){function e(a){return(0,U.map)(a,pt)}if(t instanceof Yn){var r={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return(0,U.isString)(t.label)&&(r.label=t.label),r}else{if(t instanceof $n)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Zn)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof Qn)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof Jn)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:pt(new Dt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ti)return{type:"RepetitionWithSeparator",idx:t.idx,separator:pt(new Dt({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof ei)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof ri)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof Dt){var n={type:"Terminal",name:t.terminalType.name,label:(0,No.tokenLabel)(t.terminalType),idx:t.idx};(0,U.isString)(t.label)&&(n.terminalLabel=t.label);var i=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(n.pattern=(0,U.isRegExp)(i)?i.source:i),n}else{if(t instanceof Xn)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}x.serializeProduction=pt});var Gt=R(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.RestWalker=void 0;var xr=k(),ne=re(),Po=function(){function t(){}return t.prototype.walk=function(e,r){var n=this;r===void 0&&(r=[]),(0,xr.forEach)(e.definition,function(i,a){var o=(0,xr.drop)(e.definition,a+1);if(i instanceof ne.NonTerminal)n.walkProdRef(i,o,r);else if(i instanceof ne.Terminal)n.walkTerminal(i,o,r);else if(i instanceof ne.Alternative)n.walkFlat(i,o,r);else if(i instanceof ne.Option)n.walkOption(i,o,r);else if(i instanceof ne.RepetitionMandatory)n.walkAtLeastOne(i,o,r);else if(i instanceof ne.RepetitionMandatoryWithSeparator)n.walkAtLeastOneSep(i,o,r);else if(i instanceof ne.RepetitionWithSeparator)n.walkManySep(i,o,r);else if(i instanceof ne.Repetition)n.walkMany(i,o,r);else if(i instanceof ne.Alternation)n.walkOr(i,o,r);else throw Error("non exhaustive match")})},t.prototype.walkTerminal=function(e,r,n){},t.prototype.walkProdRef=function(e,r,n){},t.prototype.walkFlat=function(e,r,n){var i=r.concat(n);this.walk(e,i)},t.prototype.walkOption=function(e,r,n){var i=r.concat(n);this.walk(e,i)},t.prototype.walkAtLeastOne=function(e,r,n){var i=[new ne.Option({definition:e.definition})].concat(r,n);this.walk(e,i)},t.prototype.walkAtLeastOneSep=function(e,r,n){var i=ni(e,r,n);this.walk(e,i)},t.prototype.walkMany=function(e,r,n){var i=[new ne.Option({definition:e.definition})].concat(r,n);this.walk(e,i)},t.prototype.walkManySep=function(e,r,n){var i=ni(e,r,n);this.walk(e,i)},t.prototype.walkOr=function(e,r,n){var i=this,a=r.concat(n);(0,xr.forEach)(e.definition,function(o){var s=new ne.Alternative({definition:[o]});i.walk(s,a)})},t}();Ut.RestWalker=Po;function ni(t,e,r){var n=[new ne.Option({definition:[new ne.Terminal({terminalType:t.separator})].concat(t.definition)})],i=n.concat(e,r);return i}});var $e=R(Wt=>{"use strict";Object.defineProperty(Wt,"__esModule",{value:!0});Wt.GAstVisitor=void 0;var Ne=re(),ko=function(){function t(){}return t.prototype.visit=function(e){var r=e;switch(r.constructor){case Ne.NonTerminal:return this.visitNonTerminal(r);case Ne.Alternative:return this.visitAlternative(r);case Ne.Option:return this.visitOption(r);case Ne.RepetitionMandatory:return this.visitRepetitionMandatory(r);case Ne.RepetitionMandatoryWithSeparator:return this.visitRepetitionMandatoryWithSeparator(r);case Ne.RepetitionWithSeparator:return this.visitRepetitionWithSeparator(r);case Ne.Repetition:return this.visitRepetition(r);case Ne.Alternation:return this.visitAlternation(r);case Ne.Terminal:return this.visitTerminal(r);case Ne.Rule:return this.visitRule(r);default:throw Error("non exhaustive match")}},t.prototype.visitNonTerminal=function(e){},t.prototype.visitAlternative=function(e){},t.prototype.visitOption=function(e){},t.prototype.visitRepetition=function(e){},t.prototype.visitRepetitionMandatory=function(e){},t.prototype.visitRepetitionMandatoryWithSeparator=function(e){},t.prototype.visitRepetitionWithSeparator=function(e){},t.prototype.visitAlternation=function(e){},t.prototype.visitTerminal=function(e){},t.prototype.visitRule=function(e){},t}();Wt.GAstVisitor=ko});var dt=R($=>{"use strict";var So=$&&$.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty($,"__esModule",{value:!0});$.collectMethods=$.DslMethodsCollectorVisitor=$.getProductionDslName=$.isBranchingProd=$.isOptionalProd=$.isSequenceProd=void 0;var ht=k(),W=re(),xo=$e();function Co(t){return t instanceof W.Alternative||t instanceof W.Option||t instanceof W.Repetition||t instanceof W.RepetitionMandatory||t instanceof W.RepetitionMandatoryWithSeparator||t instanceof W.RepetitionWithSeparator||t instanceof W.Terminal||t instanceof W.Rule}$.isSequenceProd=Co;function Cr(t,e){e===void 0&&(e=[]);var r=t instanceof W.Option||t instanceof W.Repetition||t instanceof W.RepetitionWithSeparator;return r?!0:t instanceof W.Alternation?(0,ht.some)(t.definition,function(n){return Cr(n,e)}):t instanceof W.NonTerminal&&(0,ht.contains)(e,t)?!1:t instanceof W.AbstractProduction?(t instanceof W.NonTerminal&&e.push(t),(0,ht.every)(t.definition,function(n){return Cr(n,e)})):!1}$.isOptionalProd=Cr;function Lo(t){return t instanceof W.Alternation}$.isBranchingProd=Lo;function Mo(t){if(t instanceof W.NonTerminal)return"SUBRULE";if(t instanceof W.Option)return"OPTION";if(t instanceof W.Alternation)return"OR";if(t instanceof W.RepetitionMandatory)return"AT_LEAST_ONE";if(t instanceof W.RepetitionMandatoryWithSeparator)return"AT_LEAST_ONE_SEP";if(t instanceof W.RepetitionWithSeparator)return"MANY_SEP";if(t instanceof W.Repetition)return"MANY";if(t instanceof W.Terminal)return"CONSUME";throw Error("non exhaustive match")}$.getProductionDslName=Mo;var ii=function(t){So(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.separator="-",r.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]},r}return e.prototype.reset=function(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}},e.prototype.visitTerminal=function(r){var n=r.terminalType.name+this.separator+"Terminal";(0,ht.has)(this.dslMethods,n)||(this.dslMethods[n]=[]),this.dslMethods[n].push(r)},e.prototype.visitNonTerminal=function(r){var n=r.nonTerminalName+this.separator+"Terminal";(0,ht.has)(this.dslMethods,n)||(this.dslMethods[n]=[]),this.dslMethods[n].push(r)},e.prototype.visitOption=function(r){this.dslMethods.option.push(r)},e.prototype.visitRepetitionWithSeparator=function(r){this.dslMethods.repetitionWithSeparator.push(r)},e.prototype.visitRepetitionMandatory=function(r){this.dslMethods.repetitionMandatory.push(r)},e.prototype.visitRepetitionMandatoryWithSeparator=function(r){this.dslMethods.repetitionMandatoryWithSeparator.push(r)},e.prototype.visitRepetition=function(r){this.dslMethods.repetition.push(r)},e.prototype.visitAlternation=function(r){this.dslMethods.alternation.push(r)},e}(xo.GAstVisitor);$.DslMethodsCollectorVisitor=ii;var Bt=new ii;function bo(t){Bt.reset(),t.accept(Bt);var e=Bt.dslMethods;return Bt.reset(),e}$.collectMethods=bo});var Mr=R(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.firstForTerminal=Ie.firstForBranching=Ie.firstForSequence=Ie.first=void 0;var qt=k(),ai=re(),Lr=dt();function jt(t){if(t instanceof ai.NonTerminal)return jt(t.referencedRule);if(t instanceof ai.Terminal)return ui(t);if((0,Lr.isSequenceProd)(t))return oi(t);if((0,Lr.isBranchingProd)(t))return si(t);throw Error("non exhaustive match")}Ie.first=jt;function oi(t){for(var e=[],r=t.definition,n=0,i=r.length>n,a,o=!0;i&&o;)a=r[n],o=(0,Lr.isOptionalProd)(a),e=e.concat(jt(a)),n=n+1,i=r.length>n;return(0,qt.uniq)(e)}Ie.firstForSequence=oi;function si(t){var e=(0,qt.map)(t.definition,function(r){return jt(r)});return(0,qt.uniq)((0,qt.flatten)(e))}Ie.firstForBranching=si;function ui(t){return[t.terminalType]}Ie.firstForTerminal=ui});var br=R(Vt=>{"use strict";Object.defineProperty(Vt,"__esModule",{value:!0});Vt.IN=void 0;Vt.IN="_~IN~_"});var hi=R(pe=>{"use strict";var Fo=pe&&pe.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(pe,"__esModule",{value:!0});pe.buildInProdFollowPrefix=pe.buildBetweenProdsFollowPrefix=pe.computeAllProdsFollows=pe.ResyncFollowsWalker=void 0;var wo=Gt(),Do=Mr(),ci=k(),li=br(),Uo=re(),fi=function(t){Fo(e,t);function e(r){var n=t.call(this)||this;return n.topProd=r,n.follows={},n}return e.prototype.startWalking=function(){return this.walk(this.topProd),this.follows},e.prototype.walkTerminal=function(r,n,i){},e.prototype.walkProdRef=function(r,n,i){var a=pi(r.referencedRule,r.idx)+this.topProd.name,o=n.concat(i),s=new Uo.Alternative({definition:o}),c=(0,Do.first)(s);this.follows[a]=c},e}(wo.RestWalker);pe.ResyncFollowsWalker=fi;function Go(t){var e={};return(0,ci.forEach)(t,function(r){var n=new fi(r).startWalking();(0,ci.assign)(e,n)}),e}pe.computeAllProdsFollows=Go;function pi(t,e){return t.name+e+li.IN}pe.buildBetweenProdsFollowPrefix=pi;function Wo(t){var e=t.terminalType.name;return e+t.idx+li.IN}pe.buildInProdFollowPrefix=Wo});var vt=R(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.defaultGrammarValidatorErrorProvider=be.defaultGrammarResolverErrorProvider=be.defaultParserErrorProvider=void 0;var Ze=Ge(),Bo=k(),Te=k(),Fr=re(),di=dt();be.defaultParserErrorProvider={buildMismatchTokenMessage:function(t){var e=t.expected,r=t.actual,n=t.previous,i=t.ruleName,a=(0,Ze.hasTokenLabel)(e),o=a?"--> "+(0,Ze.tokenLabel)(e)+" <--":"token of type --> "+e.name+" <--",s="Expecting "+o+" but found --> '"+r.image+"' <--";return s},buildNotAllInputParsedMessage:function(t){var e=t.firstRedundant,r=t.ruleName;return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage:function(t){var e=t.expectedPathsPerAlt,r=t.actual,n=t.previous,i=t.customUserDescription,a=t.ruleName,o="Expecting: ",s=(0,Te.first)(r).image,c=`
but found: '`+s+"'";if(i)return o+i+c;var l=(0,Te.reduce)(e,function(v,u){return v.concat(u)},[]),p=(0,Te.map)(l,function(v){return"["+(0,Te.map)(v,function(u){return(0,Ze.tokenLabel)(u)}).join(", ")+"]"}),f=(0,Te.map)(p,function(v,u){return"  "+(u+1)+". "+v}),m=`one of these possible Token sequences:
`+f.join(`
`);return o+m+c},buildEarlyExitMessage:function(t){var e=t.expectedIterationPaths,r=t.actual,n=t.customUserDescription,i=t.ruleName,a="Expecting: ",o=(0,Te.first)(r).image,s=`
but found: '`+o+"'";if(n)return a+n+s;var c=(0,Te.map)(e,function(p){return"["+(0,Te.map)(p,function(f){return(0,Ze.tokenLabel)(f)}).join(",")+"]"}),l=`expecting at least one iteration which starts with one of these possible Token sequences::
  `+("<"+c.join(" ,")+">");return a+l+s}};Object.freeze(be.defaultParserErrorProvider);be.defaultGrammarResolverErrorProvider={buildRuleNotFoundError:function(t,e){var r="Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-";return r}};be.defaultGrammarValidatorErrorProvider={buildDuplicateFoundError:function(t,e){function r(p){return p instanceof Fr.Terminal?p.terminalType.name:p instanceof Fr.NonTerminal?p.nonTerminalName:""}var n=t.name,i=(0,Te.first)(e),a=i.idx,o=(0,di.getProductionDslName)(i),s=r(i),c=a>0,l="->"+o+(c?a:"")+"<- "+(s?"with argument: ->"+s+"<-":"")+`
                  appears more than once (`+e.length+" times) in the top level rule: ->"+n+`<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return l=l.replace(/[ \t]+/g," "),l=l.replace(/\s\s+/g,`
`),l},buildNamespaceConflictError:function(t){var e=`Namespace conflict found in grammar.
`+("The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <"+t.name+`>.
`)+`To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`;return e},buildAlternationPrefixAmbiguityError:function(t){var e=(0,Te.map)(t.prefixPath,function(i){return(0,Ze.tokenLabel)(i)}).join(", "),r=t.alternation.idx===0?"":t.alternation.idx,n="Ambiguous alternatives: <"+t.ambiguityIndices.join(" ,")+`> due to common lookahead prefix
`+("in <OR"+r+"> inside <"+t.topLevelRule.name+`> Rule,
`)+("<"+e+`> may appears as a prefix path in all these alternatives.
`)+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`;return n},buildAlternationAmbiguityError:function(t){var e=(0,Te.map)(t.prefixPath,function(i){return(0,Ze.tokenLabel)(i)}).join(", "),r=t.alternation.idx===0?"":t.alternation.idx,n="Ambiguous Alternatives Detected: <"+t.ambiguityIndices.join(" ,")+"> in <OR"+r+">"+(" inside <"+t.topLevelRule.name+`> Rule,
`)+("<"+e+`> may appears as a prefix path in all these alternatives.
`);return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError:function(t){var e=(0,di.getProductionDslName)(t.repetition);t.repetition.idx!==0&&(e+=t.repetition.idx);var r="The repetition <"+e+"> within Rule <"+t.topLevelRule.name+`> can never consume any tokens.
This could lead to an infinite loop.`;return r},buildTokenNameError:function(t){return"deprecated"},buildEmptyAlternationError:function(t){var e="Ambiguous empty alternative: <"+(t.emptyChoiceIdx+1)+">"+(" in <OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+`> Rule.
`)+"Only the last alternative may be an empty alternative.";return e},buildTooManyAlternativesError:function(t){var e=`An Alternation cannot have more than 256 alternatives:
`+("<OR"+t.alternation.idx+"> inside <"+t.topLevelRule.name+`> Rule.
 has `+(t.alternation.definition.length+1)+" alternatives.");return e},buildLeftRecursionError:function(t){var e=t.topLevelRule.name,r=Bo.map(t.leftRecursionPath,function(a){return a.name}),n=e+" --> "+r.concat([e]).join(" --> "),i=`Left Recursion found in grammar.
`+("rule: <"+e+`> can be invoked from itself (directly or indirectly)
`)+(`without consuming any Tokens. The grammar path that causes this is: 
 `+n+`
`)+` To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_Factoring.`;return i},buildInvalidRuleNameError:function(t){return"deprecated"},buildDuplicateRuleNameError:function(t){var e;t.topLevelRule instanceof Fr.Rule?e=t.topLevelRule.name:e=t.topLevelRule;var r="Duplicate definition, rule: ->"+e+"<- is already defined in the grammar: ->"+t.grammarName+"<-";return r}}});var Ei=R(We=>{"use strict";var qo=We&&We.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(We,"__esModule",{value:!0});We.GastRefResolverVisitor=We.resolveGrammar=void 0;var jo=ce(),vi=k(),Vo=$e();function Ko(t,e){var r=new mi(t,e);return r.resolveRefs(),r.errors}We.resolveGrammar=Ko;var mi=function(t){qo(e,t);function e(r,n){var i=t.call(this)||this;return i.nameToTopRule=r,i.errMsgProvider=n,i.errors=[],i}return e.prototype.resolveRefs=function(){var r=this;(0,vi.forEach)((0,vi.values)(this.nameToTopRule),function(n){r.currTopLevel=n,n.accept(r)})},e.prototype.visitNonTerminal=function(r){var n=this.nameToTopRule[r.nonTerminalName];if(n)r.referencedRule=n;else{var i=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,r);this.errors.push({message:i,type:jo.ParserDefinitionErrorType.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:r.nonTerminalName})}},e}(Vo.GAstVisitor);We.GastRefResolverVisitor=mi});var Et=R(j=>{"use strict";var Ve=j&&j.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(j,"__esModule",{value:!0});j.nextPossibleTokensAfter=j.possiblePathsFrom=j.NextTerminalAfterAtLeastOneSepWalker=j.NextTerminalAfterAtLeastOneWalker=j.NextTerminalAfterManySepWalker=j.NextTerminalAfterManyWalker=j.AbstractNextTerminalAfterProductionWalker=j.NextAfterTokenWalker=j.AbstractNextPossibleTokensWalker=void 0;var Ti=Gt(),I=k(),zo=Mr(),O=re(),yi=function(t){Ve(e,t);function e(r,n){var i=t.call(this)||this;return i.topProd=r,i.path=n,i.possibleTokTypes=[],i.nextProductionName="",i.nextProductionOccurrence=0,i.found=!1,i.isAtEndOfPath=!1,i}return e.prototype.startWalking=function(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=(0,I.cloneArr)(this.path.ruleStack).reverse(),this.occurrenceStack=(0,I.cloneArr)(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes},e.prototype.walk=function(r,n){n===void 0&&(n=[]),this.found||t.prototype.walk.call(this,r,n)},e.prototype.walkProdRef=function(r,n,i){if(r.referencedRule.name===this.nextProductionName&&r.idx===this.nextProductionOccurrence){var a=n.concat(i);this.updateExpectedNext(),this.walk(r.referencedRule,a)}},e.prototype.updateExpectedNext=function(){(0,I.isEmpty)(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())},e}(Ti.RestWalker);j.AbstractNextPossibleTokensWalker=yi;var Ho=function(t){Ve(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.path=n,i.nextTerminalName="",i.nextTerminalOccurrence=0,i.nextTerminalName=i.path.lastTok.name,i.nextTerminalOccurrence=i.path.lastTokOccurrence,i}return e.prototype.walkTerminal=function(r,n,i){if(this.isAtEndOfPath&&r.terminalType.name===this.nextTerminalName&&r.idx===this.nextTerminalOccurrence&&!this.found){var a=n.concat(i),o=new O.Alternative({definition:a});this.possibleTokTypes=(0,zo.first)(o),this.found=!0}},e}(yi);j.NextAfterTokenWalker=Ho;var mt=function(t){Ve(e,t);function e(r,n){var i=t.call(this)||this;return i.topRule=r,i.occurrence=n,i.result={token:void 0,occurrence:void 0,isEndOfRule:void 0},i}return e.prototype.startWalking=function(){return this.walk(this.topRule),this.result},e}(Ti.RestWalker);j.AbstractNextTerminalAfterProductionWalker=mt;var Yo=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkMany=function(r,n,i){if(r.idx===this.occurrence){var a=(0,I.first)(n.concat(i));this.result.isEndOfRule=a===void 0,a instanceof O.Terminal&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else t.prototype.walkMany.call(this,r,n,i)},e}(mt);j.NextTerminalAfterManyWalker=Yo;var Xo=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkManySep=function(r,n,i){if(r.idx===this.occurrence){var a=(0,I.first)(n.concat(i));this.result.isEndOfRule=a===void 0,a instanceof O.Terminal&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else t.prototype.walkManySep.call(this,r,n,i)},e}(mt);j.NextTerminalAfterManySepWalker=Xo;var $o=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkAtLeastOne=function(r,n,i){if(r.idx===this.occurrence){var a=(0,I.first)(n.concat(i));this.result.isEndOfRule=a===void 0,a instanceof O.Terminal&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else t.prototype.walkAtLeastOne.call(this,r,n,i)},e}(mt);j.NextTerminalAfterAtLeastOneWalker=$o;var Zo=function(t){Ve(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.walkAtLeastOneSep=function(r,n,i){if(r.idx===this.occurrence){var a=(0,I.first)(n.concat(i));this.result.isEndOfRule=a===void 0,a instanceof O.Terminal&&(this.result.token=a.terminalType,this.result.occurrence=a.idx)}else t.prototype.walkAtLeastOneSep.call(this,r,n,i)},e}(mt);j.NextTerminalAfterAtLeastOneSepWalker=Zo;function _i(t,e,r){r===void 0&&(r=[]),r=(0,I.cloneArr)(r);var n=[],i=0;function a(l){return l.concat((0,I.drop)(t,i+1))}function o(l){var p=_i(a(l),e,r);return n.concat(p)}for(;r.length<e&&i<t.length;){var s=t[i];if(s instanceof O.Alternative)return o(s.definition);if(s instanceof O.NonTerminal)return o(s.definition);if(s instanceof O.Option)n=o(s.definition);else if(s instanceof O.RepetitionMandatory){var c=s.definition.concat([new O.Repetition({definition:s.definition})]);return o(c)}else if(s instanceof O.RepetitionMandatoryWithSeparator){var c=[new O.Alternative({definition:s.definition}),new O.Repetition({definition:[new O.Terminal({terminalType:s.separator})].concat(s.definition)})];return o(c)}else if(s instanceof O.RepetitionWithSeparator){var c=s.definition.concat([new O.Repetition({definition:[new O.Terminal({terminalType:s.separator})].concat(s.definition)})]);n=o(c)}else if(s instanceof O.Repetition){var c=s.definition.concat([new O.Repetition({definition:s.definition})]);n=o(c)}else{if(s instanceof O.Alternation)return(0,I.forEach)(s.definition,function(l){(0,I.isEmpty)(l.definition)===!1&&(n=o(l.definition))}),n;if(s instanceof O.Terminal)r.push(s.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:(0,I.drop)(t,i)}),n}j.possiblePathsFrom=_i;function Qo(t,e,r,n){var i="EXIT_NONE_TERMINAL",a=[i],o="EXIT_ALTERNATIVE",s=!1,c=e.length,l=c-n-1,p=[],f=[];for(f.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!(0,I.isEmpty)(f);){var m=f.pop();if(m===o){s&&(0,I.last)(f).idx<=l&&f.pop();continue}var v=m.def,u=m.idx,d=m.ruleStack,_=m.occurrenceStack;if(!(0,I.isEmpty)(v)){var g=v[0];if(g===i){var A={idx:u,def:(0,I.drop)(v),ruleStack:(0,I.dropRight)(d),occurrenceStack:(0,I.dropRight)(_)};f.push(A)}else if(g instanceof O.Terminal)if(u<c-1){var E=u+1,P=e[E];if(r(P,g.terminalType)){var A={idx:E,def:(0,I.drop)(v),ruleStack:d,occurrenceStack:_};f.push(A)}}else if(u===c-1)p.push({nextTokenType:g.terminalType,nextTokenOccurrence:g.idx,ruleStack:d,occurrenceStack:_}),s=!0;else throw Error("non exhaustive match");else if(g instanceof O.NonTerminal){var oe=(0,I.cloneArr)(d);oe.push(g.nonTerminalName);var L=(0,I.cloneArr)(_);L.push(g.idx);var A={idx:u,def:g.definition.concat(a,(0,I.drop)(v)),ruleStack:oe,occurrenceStack:L};f.push(A)}else if(g instanceof O.Option){var ee={idx:u,def:(0,I.drop)(v),ruleStack:d,occurrenceStack:_};f.push(ee),f.push(o);var ge={idx:u,def:g.definition.concat((0,I.drop)(v)),ruleStack:d,occurrenceStack:_};f.push(ge)}else if(g instanceof O.RepetitionMandatory){var X=new O.Repetition({definition:g.definition,idx:g.idx}),se=g.definition.concat([X],(0,I.drop)(v)),A={idx:u,def:se,ruleStack:d,occurrenceStack:_};f.push(A)}else if(g instanceof O.RepetitionMandatoryWithSeparator){var ue=new O.Terminal({terminalType:g.separator}),X=new O.Repetition({definition:[ue].concat(g.definition),idx:g.idx}),se=g.definition.concat([X],(0,I.drop)(v)),A={idx:u,def:se,ruleStack:d,occurrenceStack:_};f.push(A)}else if(g instanceof O.RepetitionWithSeparator){var ee={idx:u,def:(0,I.drop)(v),ruleStack:d,occurrenceStack:_};f.push(ee),f.push(o);var ue=new O.Terminal({terminalType:g.separator}),Ae=new O.Repetition({definition:[ue].concat(g.definition),idx:g.idx}),se=g.definition.concat([Ae],(0,I.drop)(v)),ge={idx:u,def:se,ruleStack:d,occurrenceStack:_};f.push(ge)}else if(g instanceof O.Repetition){var ee={idx:u,def:(0,I.drop)(v),ruleStack:d,occurrenceStack:_};f.push(ee),f.push(o);var Ae=new O.Repetition({definition:g.definition,idx:g.idx}),se=g.definition.concat([Ae],(0,I.drop)(v)),ge={idx:u,def:se,ruleStack:d,occurrenceStack:_};f.push(ge)}else if(g instanceof O.Alternation)for(var Ce=g.definition.length-1;Ce>=0;Ce--){var fr=g.definition[Ce],it={idx:u,def:fr.definition.concat((0,I.drop)(v)),ruleStack:d,occurrenceStack:_};f.push(it),f.push(o)}else if(g instanceof O.Alternative)f.push({idx:u,def:g.definition.concat((0,I.drop)(v)),ruleStack:d,occurrenceStack:_});else if(g instanceof O.Rule)f.push(Jo(g,u,d,_));else throw Error("non exhaustive match")}}return p}j.nextPossibleTokensAfter=Qo;function Jo(t,e,r,n){var i=(0,I.cloneArr)(r);i.push(t.name);var a=(0,I.cloneArr)(n);return a.push(1),{idx:e,def:t.definition,ruleStack:i,occurrenceStack:a}}});var Tt=R(M=>{"use strict";var gi=M&&M.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(M,"__esModule",{value:!0});M.areTokenCategoriesNotUsed=M.isStrictPrefixOfPath=M.containsPath=M.getLookaheadPathsForOptionalProd=M.getLookaheadPathsForOr=M.lookAheadSequenceFromAlternatives=M.buildSingleAlternativeLookaheadFunction=M.buildAlternativesLookAheadFunc=M.buildLookaheadFuncForOptionalProd=M.buildLookaheadFuncForOr=M.getProdType=M.PROD_TYPE=void 0;var D=k(),Ai=Et(),es=Gt(),Kt=Xe(),Be=re(),ts=$e(),z;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(z=M.PROD_TYPE||(M.PROD_TYPE={}));function rs(t){if(t instanceof Be.Option)return z.OPTION;if(t instanceof Be.Repetition)return z.REPETITION;if(t instanceof Be.RepetitionMandatory)return z.REPETITION_MANDATORY;if(t instanceof Be.RepetitionMandatoryWithSeparator)return z.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Be.RepetitionWithSeparator)return z.REPETITION_WITH_SEPARATOR;if(t instanceof Be.Alternation)return z.ALTERNATION;throw Error("non exhaustive match")}M.getProdType=rs;function ns(t,e,r,n,i,a){var o=Ni(t,e,r),s=Ur(o)?Kt.tokenStructuredMatcherNoCategories:Kt.tokenStructuredMatcher;return a(o,n,s,i)}M.buildLookaheadFuncForOr=ns;function is(t,e,r,n,i,a){var o=Ii(t,e,i,r),s=Ur(o)?Kt.tokenStructuredMatcherNoCategories:Kt.tokenStructuredMatcher;return a(o[0],s,n)}M.buildLookaheadFuncForOptionalProd=is;function as(t,e,r,n){var i=t.length,a=(0,D.every)(t,function(c){return(0,D.every)(c,function(l){return l.length===1})});if(e)return function(c){for(var l=(0,D.map)(c,function(E){return E.GATE}),p=0;p<i;p++){var f=t[p],m=f.length,v=l[p];if(v!==void 0&&v.call(this)===!1)continue;e:for(var u=0;u<m;u++){for(var d=f[u],_=d.length,g=0;g<_;g++){var A=this.LA(g+1);if(r(A,d[g])===!1)continue e}return p}}};if(a&&!n){var o=(0,D.map)(t,function(c){return(0,D.flatten)(c)}),s=(0,D.reduce)(o,function(c,l,p){return(0,D.forEach)(l,function(f){(0,D.has)(c,f.tokenTypeIdx)||(c[f.tokenTypeIdx]=p),(0,D.forEach)(f.categoryMatches,function(m){(0,D.has)(c,m)||(c[m]=p)})}),c},[]);return function(){var c=this.LA(1);return s[c.tokenTypeIdx]}}else return function(){for(var c=0;c<i;c++){var l=t[c],p=l.length;e:for(var f=0;f<p;f++){for(var m=l[f],v=m.length,u=0;u<v;u++){var d=this.LA(u+1);if(r(d,m[u])===!1)continue e}return c}}}}M.buildAlternativesLookAheadFunc=as;function os(t,e,r){var n=(0,D.every)(t,function(l){return l.length===1}),i=t.length;if(n&&!r){var a=(0,D.flatten)(t);if(a.length===1&&(0,D.isEmpty)(a[0].categoryMatches)){var o=a[0],s=o.tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===s}}else{var c=(0,D.reduce)(a,function(l,p,f){return l[p.tokenTypeIdx]=!0,(0,D.forEach)(p.categoryMatches,function(m){l[m]=!0}),l},[]);return function(){var l=this.LA(1);return c[l.tokenTypeIdx]===!0}}}else return function(){e:for(var l=0;l<i;l++){for(var p=t[l],f=p.length,m=0;m<f;m++){var v=this.LA(m+1);if(e(v,p[m])===!1)continue e}return!0}return!1}}M.buildSingleAlternativeLookaheadFunction=os;var ss=function(t){gi(e,t);function e(r,n,i){var a=t.call(this)||this;return a.topProd=r,a.targetOccurrence=n,a.targetProdType=i,a}return e.prototype.startWalking=function(){return this.walk(this.topProd),this.restDef},e.prototype.checkIsTarget=function(r,n,i,a){return r.idx===this.targetOccurrence&&this.targetProdType===n?(this.restDef=i.concat(a),!0):!1},e.prototype.walkOption=function(r,n,i){this.checkIsTarget(r,z.OPTION,n,i)||t.prototype.walkOption.call(this,r,n,i)},e.prototype.walkAtLeastOne=function(r,n,i){this.checkIsTarget(r,z.REPETITION_MANDATORY,n,i)||t.prototype.walkOption.call(this,r,n,i)},e.prototype.walkAtLeastOneSep=function(r,n,i){this.checkIsTarget(r,z.REPETITION_MANDATORY_WITH_SEPARATOR,n,i)||t.prototype.walkOption.call(this,r,n,i)},e.prototype.walkMany=function(r,n,i){this.checkIsTarget(r,z.REPETITION,n,i)||t.prototype.walkOption.call(this,r,n,i)},e.prototype.walkManySep=function(r,n,i){this.checkIsTarget(r,z.REPETITION_WITH_SEPARATOR,n,i)||t.prototype.walkOption.call(this,r,n,i)},e}(es.RestWalker),Ri=function(t){gi(e,t);function e(r,n,i){var a=t.call(this)||this;return a.targetOccurrence=r,a.targetProdType=n,a.targetRef=i,a.result=[],a}return e.prototype.checkIsTarget=function(r,n){r.idx===this.targetOccurrence&&this.targetProdType===n&&(this.targetRef===void 0||r===this.targetRef)&&(this.result=r.definition)},e.prototype.visitOption=function(r){this.checkIsTarget(r,z.OPTION)},e.prototype.visitRepetition=function(r){this.checkIsTarget(r,z.REPETITION)},e.prototype.visitRepetitionMandatory=function(r){this.checkIsTarget(r,z.REPETITION_MANDATORY)},e.prototype.visitRepetitionMandatoryWithSeparator=function(r){this.checkIsTarget(r,z.REPETITION_MANDATORY_WITH_SEPARATOR)},e.prototype.visitRepetitionWithSeparator=function(r){this.checkIsTarget(r,z.REPETITION_WITH_SEPARATOR)},e.prototype.visitAlternation=function(r){this.checkIsTarget(r,z.ALTERNATION)},e}(ts.GAstVisitor);function Oi(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=[];return e}function wr(t){for(var e=[""],r=0;r<t.length;r++){for(var n=t[r],i=[],a=0;a<e.length;a++){var o=e[a];i.push(o+"_"+n.tokenTypeIdx);for(var s=0;s<n.categoryMatches.length;s++){var c="_"+n.categoryMatches[s];i.push(o+c)}}e=i}return e}function us(t,e,r){for(var n=0;n<t.length;n++)if(n!==r)for(var i=t[n],a=0;a<e.length;a++){var o=e[a];if(i[o]===!0)return!1}return!0}function Dr(t,e){for(var r=(0,D.map)(t,function(p){return(0,Ai.possiblePathsFrom)([p],1)}),n=Oi(r.length),i=(0,D.map)(r,function(p){var f={};return(0,D.forEach)(p,function(m){var v=wr(m.partialPath);(0,D.forEach)(v,function(u){f[u]=!0})}),f}),a=r,o=1;o<=e;o++){var s=a;a=Oi(s.length);for(var c=function(p){for(var f=s[p],m=0;m<f.length;m++){var v=f[m].partialPath,u=f[m].suffixDef,d=wr(v),_=us(i,d,p);if(_||(0,D.isEmpty)(u)||v.length===e){var g=n[p];if(Pi(g,v)===!1){g.push(v);for(var A=0;A<d.length;A++){var E=d[A];i[p][E]=!0}}}else{var P=(0,Ai.possiblePathsFrom)(u,o+1,v);a[p]=a[p].concat(P),(0,D.forEach)(P,function(oe){var L=wr(oe.partialPath);(0,D.forEach)(L,function(ee){i[p][ee]=!0})})}}},l=0;l<s.length;l++)c(l)}return n}M.lookAheadSequenceFromAlternatives=Dr;function Ni(t,e,r,n){var i=new Ri(t,z.ALTERNATION,n);return e.accept(i),Dr(i.result,r)}M.getLookaheadPathsForOr=Ni;function Ii(t,e,r,n){var i=new Ri(t,r);e.accept(i);var a=i.result,o=new ss(e,t,r),s=o.startWalking(),c=new Be.Alternative({definition:a}),l=new Be.Alternative({definition:s});return Dr([c,l],n)}M.getLookaheadPathsForOptionalProd=Ii;function Pi(t,e){e:for(var r=0;r<t.length;r++){var n=t[r];if(n.length===e.length){for(var i=0;i<n.length;i++){var a=e[i],o=n[i],s=a===o||o.categoryMatchesMap[a.tokenTypeIdx]!==void 0;if(s===!1)continue e}return!0}}return!1}M.containsPath=Pi;function cs(t,e){return t.length<e.length&&(0,D.every)(t,function(r,n){var i=e[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}M.isStrictPrefixOfPath=cs;function Ur(t){return(0,D.every)(t,function(e){return(0,D.every)(e,function(r){return(0,D.every)(r,function(n){return(0,D.isEmpty)(n.categoryMatches)})})})}M.areTokenCategoriesNotUsed=Ur});var Vr=R(C=>{"use strict";var Gr=C&&C.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(C,"__esModule",{value:!0});C.checkPrefixAlternativesAmbiguities=C.validateSomeNonEmptyLookaheadPath=C.validateTooManyAlts=C.RepetionCollector=C.validateAmbiguousAlternationAlternatives=C.validateEmptyOrAlternative=C.getFirstNoneTerminal=C.validateNoLeftRecursion=C.validateRuleIsOverridden=C.validateRuleDoesNotAlreadyExist=C.OccurrenceValidationCollector=C.identifyProductionForDuplicates=C.validateGrammar=void 0;var b=k(),B=k(),Pe=ce(),Wr=dt(),Qe=Tt(),ls=Et(),ye=re(),Br=$e();function fs(t,e,r,n,i){var a=b.map(t,function(v){return ps(v,n)}),o=b.map(t,function(v){return qr(v,v,n)}),s=[],c=[],l=[];(0,B.every)(o,B.isEmpty)&&(s=(0,B.map)(t,function(v){return Li(v,n)}),c=(0,B.map)(t,function(v){return Mi(v,e,n)}),l=wi(t,e,n));var p=vs(t,r,n),f=(0,B.map)(t,function(v){return Fi(v,n)}),m=(0,B.map)(t,function(v){return Ci(v,t,i,n)});return b.flatten(a.concat(l,o,s,c,p,f,m))}C.validateGrammar=fs;function ps(t,e){var r=new xi;t.accept(r);var n=r.allProductions,i=b.groupBy(n,ki),a=b.pick(i,function(s){return s.length>1}),o=b.map(b.values(a),function(s){var c=b.first(s),l=e.buildDuplicateFoundError(t,s),p=(0,Wr.getProductionDslName)(c),f={message:l,type:Pe.ParserDefinitionErrorType.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:p,occurrence:c.idx},m=Si(c);return m&&(f.parameter=m),f});return o}function ki(t){return(0,Wr.getProductionDslName)(t)+"_#_"+t.idx+"_#_"+Si(t)}C.identifyProductionForDuplicates=ki;function Si(t){return t instanceof ye.Terminal?t.terminalType.name:t instanceof ye.NonTerminal?t.nonTerminalName:""}var xi=function(t){Gr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.allProductions=[],r}return e.prototype.visitNonTerminal=function(r){this.allProductions.push(r)},e.prototype.visitOption=function(r){this.allProductions.push(r)},e.prototype.visitRepetitionWithSeparator=function(r){this.allProductions.push(r)},e.prototype.visitRepetitionMandatory=function(r){this.allProductions.push(r)},e.prototype.visitRepetitionMandatoryWithSeparator=function(r){this.allProductions.push(r)},e.prototype.visitRepetition=function(r){this.allProductions.push(r)},e.prototype.visitAlternation=function(r){this.allProductions.push(r)},e.prototype.visitTerminal=function(r){this.allProductions.push(r)},e}(Br.GAstVisitor);C.OccurrenceValidationCollector=xi;function Ci(t,e,r,n){var i=[],a=(0,B.reduce)(e,function(s,c){return c.name===t.name?s+1:s},0);if(a>1){var o=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:r});i.push({message:o,type:Pe.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:t.name})}return i}C.validateRuleDoesNotAlreadyExist=Ci;function hs(t,e,r){var n=[],i;return b.contains(e,t)||(i="Invalid rule override, rule: ->"+t+"<- cannot be overridden in the grammar: ->"+r+"<-as it is not defined in any of the super grammars ",n.push({message:i,type:Pe.ParserDefinitionErrorType.INVALID_RULE_OVERRIDE,ruleName:t})),n}C.validateRuleIsOverridden=hs;function qr(t,e,r,n){n===void 0&&(n=[]);var i=[],a=yt(e.definition);if(b.isEmpty(a))return[];var o=t.name,s=b.contains(a,t);s&&i.push({message:r.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:n}),type:Pe.ParserDefinitionErrorType.LEFT_RECURSION,ruleName:o});var c=b.difference(a,n.concat([t])),l=b.map(c,function(p){var f=b.cloneArr(n);return f.push(p),qr(t,p,r,f)});return i.concat(b.flatten(l))}C.validateNoLeftRecursion=qr;function yt(t){var e=[];if(b.isEmpty(t))return e;var r=b.first(t);if(r instanceof ye.NonTerminal)e.push(r.referencedRule);else if(r instanceof ye.Alternative||r instanceof ye.Option||r instanceof ye.RepetitionMandatory||r instanceof ye.RepetitionMandatoryWithSeparator||r instanceof ye.RepetitionWithSeparator||r instanceof ye.Repetition)e=e.concat(yt(r.definition));else if(r instanceof ye.Alternation)e=b.flatten(b.map(r.definition,function(o){return yt(o.definition)}));else if(!(r instanceof ye.Terminal))throw Error("non exhaustive match");var n=(0,Wr.isOptionalProd)(r),i=t.length>1;if(n&&i){var a=b.drop(t);return e.concat(yt(a))}else return e}C.getFirstNoneTerminal=yt;var jr=function(t){Gr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.alternations=[],r}return e.prototype.visitAlternation=function(r){this.alternations.push(r)},e}(Br.GAstVisitor);function Li(t,e){var r=new jr;t.accept(r);var n=r.alternations,i=b.reduce(n,function(a,o){var s=b.dropRight(o.definition),c=b.map(s,function(l,p){var f=(0,ls.nextPossibleTokensAfter)([l],[],null,1);return b.isEmpty(f)?{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:o,emptyChoiceIdx:p}),type:Pe.ParserDefinitionErrorType.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:o.idx,alternative:p+1}:null});return a.concat(b.compact(c))},[]);return i}C.validateEmptyOrAlternative=Li;function Mi(t,e,r){var n=new jr;t.accept(n);var i=n.alternations;i=(0,B.reject)(i,function(o){return o.ignoreAmbiguities===!0});var a=b.reduce(i,function(o,s){var c=s.idx,l=s.maxLookahead||e,p=(0,Qe.getLookaheadPathsForOr)(c,t,l,s),f=ds(p,s,t,r),m=Di(p,s,t,r);return o.concat(f,m)},[]);return a}C.validateAmbiguousAlternationAlternatives=Mi;var bi=function(t){Gr(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.allProductions=[],r}return e.prototype.visitRepetitionWithSeparator=function(r){this.allProductions.push(r)},e.prototype.visitRepetitionMandatory=function(r){this.allProductions.push(r)},e.prototype.visitRepetitionMandatoryWithSeparator=function(r){this.allProductions.push(r)},e.prototype.visitRepetition=function(r){this.allProductions.push(r)},e}(Br.GAstVisitor);C.RepetionCollector=bi;function Fi(t,e){var r=new jr;t.accept(r);var n=r.alternations,i=b.reduce(n,function(a,o){return o.definition.length>255&&a.push({message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:o}),type:Pe.ParserDefinitionErrorType.TOO_MANY_ALTS,ruleName:t.name,occurrence:o.idx}),a},[]);return i}C.validateTooManyAlts=Fi;function wi(t,e,r){var n=[];return(0,B.forEach)(t,function(i){var a=new bi;i.accept(a);var o=a.allProductions;(0,B.forEach)(o,function(s){var c=(0,Qe.getProdType)(s),l=s.maxLookahead||e,p=s.idx,f=(0,Qe.getLookaheadPathsForOptionalProd)(p,i,c,l),m=f[0];if((0,B.isEmpty)((0,B.flatten)(m))){var v=r.buildEmptyRepetitionError({topLevelRule:i,repetition:s});n.push({message:v,type:Pe.ParserDefinitionErrorType.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}C.validateSomeNonEmptyLookaheadPath=wi;function ds(t,e,r,n){var i=[],a=(0,B.reduce)(t,function(s,c,l){return e.definition[l].ignoreAmbiguities===!0||(0,B.forEach)(c,function(p){var f=[l];(0,B.forEach)(t,function(m,v){l!==v&&(0,Qe.containsPath)(m,p)&&e.definition[v].ignoreAmbiguities!==!0&&f.push(v)}),f.length>1&&!(0,Qe.containsPath)(i,p)&&(i.push(p),s.push({alts:f,path:p}))}),s},[]),o=b.map(a,function(s){var c=(0,B.map)(s.alts,function(p){return p+1}),l=n.buildAlternationAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:c,prefixPath:s.path});return{message:l,type:Pe.ParserDefinitionErrorType.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:e.idx,alternatives:[s.alts]}});return o}function Di(t,e,r,n){var i=[],a=(0,B.reduce)(t,function(o,s,c){var l=(0,B.map)(s,function(p){return{idx:c,path:p}});return o.concat(l)},[]);return(0,B.forEach)(a,function(o){var s=e.definition[o.idx];if(s.ignoreAmbiguities!==!0){var c=o.idx,l=o.path,p=(0,B.findAll)(a,function(m){return e.definition[m.idx].ignoreAmbiguities!==!0&&m.idx<c&&(0,Qe.isStrictPrefixOfPath)(m.path,l)}),f=(0,B.map)(p,function(m){var v=[m.idx+1,c+1],u=e.idx===0?"":e.idx,d=n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:e,ambiguityIndices:v,prefixPath:m.path});return{message:d,type:Pe.ParserDefinitionErrorType.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:u,alternatives:v}});i=i.concat(f)}}),i}C.checkPrefixAlternativesAmbiguities=Di;function vs(t,e,r){var n=[],i=(0,B.map)(e,function(a){return a.name});return(0,B.forEach)(t,function(a){var o=a.name;if((0,B.contains)(i,o)){var s=r.buildNamespaceConflictError(a);n.push({message:s,type:Pe.ParserDefinitionErrorType.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:o})}}),n}});var Gi=R(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.validateGrammar=Je.resolveGrammar=void 0;var Kr=k(),ms=Ei(),Es=Vr(),Ui=vt();function Ts(t){t=(0,Kr.defaults)(t,{errMsgProvider:Ui.defaultGrammarResolverErrorProvider});var e={};return(0,Kr.forEach)(t.rules,function(r){e[r.name]=r}),(0,ms.resolveGrammar)(e,t.errMsgProvider)}Je.resolveGrammar=Ts;function ys(t){return t=(0,Kr.defaults)(t,{errMsgProvider:Ui.defaultGrammarValidatorErrorProvider}),(0,Es.validateGrammar)(t.rules,t.maxLookahead,t.tokenTypes,t.errMsgProvider,t.grammarName)}Je.validateGrammar=ys});var et=R(ie=>{"use strict";var _t=ie&&ie.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ie,"__esModule",{value:!0});ie.EarlyExitException=ie.NotAllInputParsedException=ie.NoViableAltException=ie.MismatchedTokenException=ie.isRecognitionException=void 0;var _s=k(),Wi="MismatchedTokenException",Bi="NoViableAltException",qi="EarlyExitException",ji="NotAllInputParsedException",Vi=[Wi,Bi,qi,ji];Object.freeze(Vi);function gs(t){return(0,_s.contains)(Vi,t.name)}ie.isRecognitionException=gs;var zt=function(t){_t(e,t);function e(r,n){var i=this.constructor,a=t.call(this,r)||this;return a.token=n,a.resyncedTokens=[],Object.setPrototypeOf(a,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,a.constructor),a}return e}(Error),As=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.previousToken=i,a.name=Wi,a}return e}(zt);ie.MismatchedTokenException=As;var Rs=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.previousToken=i,a.name=Bi,a}return e}(zt);ie.NoViableAltException=Rs;var Os=function(t){_t(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.name=ji,i}return e}(zt);ie.NotAllInputParsedException=Os;var Ns=function(t){_t(e,t);function e(r,n,i){var a=t.call(this,r,n)||this;return a.previousToken=i,a.name=qi,a}return e}(zt);ie.EarlyExitException=Ns});var Hr=R(Z=>{"use strict";Object.defineProperty(Z,"__esModule",{value:!0});Z.attemptInRepetitionRecovery=Z.Recoverable=Z.InRuleRecoveryException=Z.IN_RULE_RECOVERY_EXCEPTION=Z.EOF_FOLLOW_KEY=void 0;var Ht=Ge(),he=k(),Is=et(),Ps=br(),ks=ce();Z.EOF_FOLLOW_KEY={};Z.IN_RULE_RECOVERY_EXCEPTION="InRuleRecoveryException";function zr(t){this.name=Z.IN_RULE_RECOVERY_EXCEPTION,this.message=t}Z.InRuleRecoveryException=zr;zr.prototype=Error.prototype;var Ss=function(){function t(){}return t.prototype.initRecoverable=function(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=(0,he.has)(e,"recoveryEnabled")?e.recoveryEnabled:ks.DEFAULT_PARSER_CONFIG.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Ki)},t.prototype.getTokenToInsert=function(e){var r=(0,Ht.createTokenInstance)(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r},t.prototype.canTokenTypeBeInsertedInRecovery=function(e){return!0},t.prototype.tryInRepetitionRecovery=function(e,r,n,i){for(var a=this,o=this.findReSyncTokenType(),s=this.exportLexerState(),c=[],l=!1,p=this.LA(1),f=this.LA(1),m=function(){var v=a.LA(0),u=a.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:p,previous:v,ruleName:a.getCurrRuleFullName()}),d=new Is.MismatchedTokenException(u,p,a.LA(0));d.resyncedTokens=(0,he.dropRight)(c),a.SAVE_ERROR(d)};!l;)if(this.tokenMatcher(f,i)){m();return}else if(n.call(this)){m(),e.apply(this,r);return}else this.tokenMatcher(f,o)?l=!0:(f=this.SKIP_TOKEN(),this.addToResyncTokens(f,c));this.importLexerState(s)},t.prototype.shouldInRepetitionRecoveryBeTried=function(e,r,n){return!(n===!1||e===void 0||r===void 0||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,r)))},t.prototype.getFollowsForInRuleRecovery=function(e,r){var n=this.getCurrentGrammarPath(e,r),i=this.getNextPossibleTokenTypes(n);return i},t.prototype.tryInRuleRecovery=function(e,r){if(this.canRecoverWithSingleTokenInsertion(e,r)){var n=this.getTokenToInsert(e);return n}if(this.canRecoverWithSingleTokenDeletion(e)){var i=this.SKIP_TOKEN();return this.consumeToken(),i}throw new zr("sad sad panda")},t.prototype.canPerformInRuleRecovery=function(e,r){return this.canRecoverWithSingleTokenInsertion(e,r)||this.canRecoverWithSingleTokenDeletion(e)},t.prototype.canRecoverWithSingleTokenInsertion=function(e,r){var n=this;if(!this.canTokenTypeBeInsertedInRecovery(e)||(0,he.isEmpty)(r))return!1;var i=this.LA(1),a=(0,he.find)(r,function(o){return n.tokenMatcher(i,o)})!==void 0;return a},t.prototype.canRecoverWithSingleTokenDeletion=function(e){var r=this.tokenMatcher(this.LA(2),e);return r},t.prototype.isInCurrentRuleReSyncSet=function(e){var r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return(0,he.contains)(n,e)},t.prototype.findReSyncTokenType=function(){for(var e=this.flattenFollowSet(),r=this.LA(1),n=2;;){var i=r.tokenType;if((0,he.contains)(e,i))return i;r=this.LA(n),n++}},t.prototype.getCurrFollowKey=function(){if(this.RULE_STACK.length===1)return Z.EOF_FOLLOW_KEY;var e=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}},t.prototype.buildFullFollowKeyStack=function(){var e=this,r=this.RULE_STACK,n=this.RULE_OCCURRENCE_STACK;return(0,he.map)(r,function(i,a){return a===0?Z.EOF_FOLLOW_KEY:{ruleName:e.shortRuleNameToFullName(i),idxInCallingRule:n[a],inRule:e.shortRuleNameToFullName(r[a-1])}})},t.prototype.flattenFollowSet=function(){var e=this,r=(0,he.map)(this.buildFullFollowKeyStack(),function(n){return e.getFollowSetFromFollowKey(n)});return(0,he.flatten)(r)},t.prototype.getFollowSetFromFollowKey=function(e){if(e===Z.EOF_FOLLOW_KEY)return[Ht.EOF];var r=e.ruleName+e.idxInCallingRule+Ps.IN+e.inRule;return this.resyncFollows[r]},t.prototype.addToResyncTokens=function(e,r){return this.tokenMatcher(e,Ht.EOF)||r.push(e),r},t.prototype.reSyncTo=function(e){for(var r=[],n=this.LA(1);this.tokenMatcher(n,e)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return(0,he.dropRight)(r)},t.prototype.attemptInRepetitionRecovery=function(e,r,n,i,a,o,s){},t.prototype.getCurrentGrammarPath=function(e,r){var n=this.getHumanReadableRuleStack(),i=(0,he.cloneArr)(this.RULE_OCCURRENCE_STACK),a={ruleStack:n,occurrenceStack:i,lastTok:e,lastTokOccurrence:r};return a},t.prototype.getHumanReadableRuleStack=function(){var e=this;return(0,he.map)(this.RULE_STACK,function(r){return e.shortRuleNameToFullName(r)})},t}();Z.Recoverable=Ss;function Ki(t,e,r,n,i,a,o){var s=this.getKeyForAutomaticLookahead(n,i),c=this.firstAfterRepMap[s];if(c===void 0){var l=this.getCurrRuleFullName(),p=this.getGAstProductions()[l],f=new a(p,i);c=f.startWalking(),this.firstAfterRepMap[s]=c}var m=c.token,v=c.occurrence,u=c.isEndOfRule;this.RULE_STACK.length===1&&u&&m===void 0&&(m=Ht.EOF,v=1),this.shouldInRepetitionRecoveryBeTried(m,v,o)&&this.tryInRepetitionRecovery(t,e,r,m)}Z.attemptInRepetitionRecovery=Ki});var Yt=R(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.getKeyForAutomaticLookahead=S.AT_LEAST_ONE_SEP_IDX=S.MANY_SEP_IDX=S.AT_LEAST_ONE_IDX=S.MANY_IDX=S.OPTION_IDX=S.OR_IDX=S.BITS_FOR_ALT_IDX=S.BITS_FOR_RULE_IDX=S.BITS_FOR_OCCURRENCE_IDX=S.BITS_FOR_METHOD_TYPE=void 0;S.BITS_FOR_METHOD_TYPE=4;S.BITS_FOR_OCCURRENCE_IDX=8;S.BITS_FOR_RULE_IDX=12;S.BITS_FOR_ALT_IDX=8;S.OR_IDX=1<<S.BITS_FOR_OCCURRENCE_IDX;S.OPTION_IDX=2<<S.BITS_FOR_OCCURRENCE_IDX;S.MANY_IDX=3<<S.BITS_FOR_OCCURRENCE_IDX;S.AT_LEAST_ONE_IDX=4<<S.BITS_FOR_OCCURRENCE_IDX;S.MANY_SEP_IDX=5<<S.BITS_FOR_OCCURRENCE_IDX;S.AT_LEAST_ONE_SEP_IDX=6<<S.BITS_FOR_OCCURRENCE_IDX;function xs(t,e,r){return r|e|t}S.getKeyForAutomaticLookahead=xs;var oc=32-S.BITS_FOR_ALT_IDX});var Hi=R(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.LooksAhead=void 0;var Fe=Tt(),_e=k(),zi=ce(),we=Yt(),Ke=dt(),Cs=function(){function t(){}return t.prototype.initLooksAhead=function(e){this.dynamicTokensEnabled=(0,_e.has)(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:zi.DEFAULT_PARSER_CONFIG.dynamicTokensEnabled,this.maxLookahead=(0,_e.has)(e,"maxLookahead")?e.maxLookahead:zi.DEFAULT_PARSER_CONFIG.maxLookahead,this.lookAheadFuncsCache=(0,_e.isES2015MapSupported)()?new Map:[],(0,_e.isES2015MapSupported)()?(this.getLaFuncFromCache=this.getLaFuncFromMap,this.setLaFuncCache=this.setLaFuncCacheUsingMap):(this.getLaFuncFromCache=this.getLaFuncFromObj,this.setLaFuncCache=this.setLaFuncUsingObj)},t.prototype.preComputeLookaheadFunctions=function(e){var r=this;(0,_e.forEach)(e,function(n){r.TRACE_INIT(n.name+" Rule Lookahead",function(){var i=(0,Ke.collectMethods)(n),a=i.alternation,o=i.repetition,s=i.option,c=i.repetitionMandatory,l=i.repetitionMandatoryWithSeparator,p=i.repetitionWithSeparator;(0,_e.forEach)(a,function(f){var m=f.idx===0?"":f.idx;r.TRACE_INIT(""+(0,Ke.getProductionDslName)(f)+m,function(){var v=(0,Fe.buildLookaheadFuncForOr)(f.idx,n,f.maxLookahead||r.maxLookahead,f.hasPredicates,r.dynamicTokensEnabled,r.lookAheadBuilderForAlternatives),u=(0,we.getKeyForAutomaticLookahead)(r.fullRuleNameToShort[n.name],we.OR_IDX,f.idx);r.setLaFuncCache(u,v)})}),(0,_e.forEach)(o,function(f){r.computeLookaheadFunc(n,f.idx,we.MANY_IDX,Fe.PROD_TYPE.REPETITION,f.maxLookahead,(0,Ke.getProductionDslName)(f))}),(0,_e.forEach)(s,function(f){r.computeLookaheadFunc(n,f.idx,we.OPTION_IDX,Fe.PROD_TYPE.OPTION,f.maxLookahead,(0,Ke.getProductionDslName)(f))}),(0,_e.forEach)(c,function(f){r.computeLookaheadFunc(n,f.idx,we.AT_LEAST_ONE_IDX,Fe.PROD_TYPE.REPETITION_MANDATORY,f.maxLookahead,(0,Ke.getProductionDslName)(f))}),(0,_e.forEach)(l,function(f){r.computeLookaheadFunc(n,f.idx,we.AT_LEAST_ONE_SEP_IDX,Fe.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,f.maxLookahead,(0,Ke.getProductionDslName)(f))}),(0,_e.forEach)(p,function(f){r.computeLookaheadFunc(n,f.idx,we.MANY_SEP_IDX,Fe.PROD_TYPE.REPETITION_WITH_SEPARATOR,f.maxLookahead,(0,Ke.getProductionDslName)(f))})})})},t.prototype.computeLookaheadFunc=function(e,r,n,i,a,o){var s=this;this.TRACE_INIT(""+o+(r===0?"":r),function(){var c=(0,Fe.buildLookaheadFuncForOptionalProd)(r,e,a||s.maxLookahead,s.dynamicTokensEnabled,i,s.lookAheadBuilderForOptional),l=(0,we.getKeyForAutomaticLookahead)(s.fullRuleNameToShort[e.name],n,r);s.setLaFuncCache(l,c)})},t.prototype.lookAheadBuilderForOptional=function(e,r,n){return(0,Fe.buildSingleAlternativeLookaheadFunction)(e,r,n)},t.prototype.lookAheadBuilderForAlternatives=function(e,r,n,i){return(0,Fe.buildAlternativesLookAheadFunc)(e,r,n,i)},t.prototype.getKeyForAutomaticLookahead=function(e,r){var n=this.getLastExplicitRuleShortName();return(0,we.getKeyForAutomaticLookahead)(n,e,r)},t.prototype.getLaFuncFromCache=function(e){},t.prototype.getLaFuncFromMap=function(e){return this.lookAheadFuncsCache.get(e)},t.prototype.getLaFuncFromObj=function(e){return this.lookAheadFuncsCache[e]},t.prototype.setLaFuncCache=function(e,r){},t.prototype.setLaFuncCacheUsingMap=function(e,r){this.lookAheadFuncsCache.set(e,r)},t.prototype.setLaFuncUsingObj=function(e,r){this.lookAheadFuncsCache[e]=r},t}();Xt.LooksAhead=Cs});var Yi=R(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.addNoneTerminalToCst=ke.addTerminalToCst=ke.setNodeLocationFull=ke.setNodeLocationOnlyOffset=void 0;function Ls(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}ke.setNodeLocationOnlyOffset=Ls;function Ms(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}ke.setNodeLocationFull=Ms;function bs(t,e,r){t.children[r]===void 0?t.children[r]=[e]:t.children[r].push(e)}ke.addTerminalToCst=bs;function Fs(t,e,r){t.children[e]===void 0?t.children[e]=[r]:t.children[e].push(r)}ke.addNoneTerminalToCst=Fs});var Yr=R(qe=>{"use strict";Object.defineProperty(qe,"__esModule",{value:!0});qe.defineNameProp=qe.functionName=qe.classNameFromInstance=void 0;var ws=k();function Ds(t){return $i(t.constructor)}qe.classNameFromInstance=Ds;var Xi="name";function $i(t){var e=t.name;return e||"anonymous"}qe.functionName=$i;function Us(t,e){var r=Object.getOwnPropertyDescriptor(t,Xi);return(0,ws.isUndefined)(r)||r.configurable?(Object.defineProperty(t,Xi,{enumerable:!1,configurable:!0,writable:!1,value:e}),!0):!1}qe.defineNameProp=Us});var ta=R(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.validateRedundantMethods=Y.validateMissingCstMethods=Y.validateVisitor=Y.CstVisitorDefinitionError=Y.createBaseVisitorConstructorWithDefaults=Y.createBaseSemanticVisitorConstructor=Y.defaultVisit=void 0;var de=k(),gt=Yr();function Zi(t,e){for(var r=(0,de.keys)(t),n=r.length,i=0;i<n;i++)for(var a=r[i],o=t[a],s=o.length,c=0;c<s;c++){var l=o[c];l.tokenTypeIdx===void 0&&this[l.name](l.children,e)}}Y.defaultVisit=Zi;function Gs(t,e){var r=function(){};(0,gt.defineNameProp)(r,t+"BaseSemantics");var n={visit:function(i,a){if((0,de.isArray)(i)&&(i=i[0]),!(0,de.isUndefined)(i))return this[i.name](i.children,a)},validateVisitor:function(){var i=Qi(this,e);if(!(0,de.isEmpty)(i)){var a=(0,de.map)(i,function(o){return o.msg});throw Error("Errors Detected in CST Visitor <"+(0,gt.functionName)(this.constructor)+`>:
	`+(""+a.join(`

`).replace(/\n/g,`
	`)))}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=e,r}Y.createBaseSemanticVisitorConstructor=Gs;function Ws(t,e,r){var n=function(){};(0,gt.defineNameProp)(n,t+"BaseSemanticsWithDefaults");var i=Object.create(r.prototype);return(0,de.forEach)(e,function(a){i[a]=Zi}),n.prototype=i,n.prototype.constructor=n,n}Y.createBaseVisitorConstructorWithDefaults=Ws;var Xr;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(Xr=Y.CstVisitorDefinitionError||(Y.CstVisitorDefinitionError={}));function Qi(t,e){var r=Ji(t,e),n=ea(t,e);return r.concat(n)}Y.validateVisitor=Qi;function Ji(t,e){var r=(0,de.map)(e,function(n){if(!(0,de.isFunction)(t[n]))return{msg:"Missing visitor method: <"+n+"> on "+(0,gt.functionName)(t.constructor)+" CST Visitor.",type:Xr.MISSING_METHOD,methodName:n}});return(0,de.compact)(r)}Y.validateMissingCstMethods=Ji;var Bs=["constructor","visit","validateVisitor"];function ea(t,e){var r=[];for(var n in t)(0,de.isFunction)(t[n])&&!(0,de.contains)(Bs,n)&&!(0,de.contains)(e,n)&&r.push({msg:"Redundant visitor method: <"+n+"> on "+(0,gt.functionName)(t.constructor)+` CST Visitor
There is no Grammar Rule corresponding to this method's name.
`,type:Xr.REDUNDANT_METHOD,methodName:n});return r}Y.validateRedundantMethods=ea});var na=R($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});$t.TreeBuilder=void 0;var tt=Yi(),K=k(),ra=ta(),qs=ce(),js=function(){function t(){}return t.prototype.initTreeBuilder=function(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=(0,K.has)(e,"nodeLocationTracking")?e.nodeLocationTracking:qs.DEFAULT_PARSER_CONFIG.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=K.NOOP,this.cstFinallyStateUpdate=K.NOOP,this.cstPostTerminal=K.NOOP,this.cstPostNonTerminal=K.NOOP,this.cstPostRule=K.NOOP;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=tt.setNodeLocationFull,this.setNodeLocationFromNode=tt.setNodeLocationFull,this.cstPostRule=K.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=K.NOOP,this.setNodeLocationFromNode=K.NOOP,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=tt.setNodeLocationOnlyOffset,this.setNodeLocationFromNode=tt.setNodeLocationOnlyOffset,this.cstPostRule=K.NOOP,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=K.NOOP,this.setNodeLocationFromNode=K.NOOP,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=K.NOOP,this.setNodeLocationFromNode=K.NOOP,this.cstPostRule=K.NOOP,this.setInitialNodeLocation=K.NOOP;else throw Error('Invalid <nodeLocationTracking> config option: "'+e.nodeLocationTracking+'"')},t.prototype.setInitialNodeLocationOnlyOffsetRecovery=function(e){e.location={startOffset:NaN,endOffset:NaN}},t.prototype.setInitialNodeLocationOnlyOffsetRegular=function(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}},t.prototype.setInitialNodeLocationFullRecovery=function(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.setInitialNodeLocationFullRegular=function(e){var r=this.LA(1);e.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}},t.prototype.cstInvocationStateUpdate=function(e,r){var n={name:e,children:{}};this.setInitialNodeLocation(n),this.CST_STACK.push(n)},t.prototype.cstFinallyStateUpdate=function(){this.CST_STACK.pop()},t.prototype.cstPostRuleFull=function(e){var r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)},t.prototype.cstPostRuleOnlyOffset=function(e){var r=this.LA(0),n=e.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN},t.prototype.cstPostTerminal=function(e,r){var n=this.CST_STACK[this.CST_STACK.length-1];(0,tt.addTerminalToCst)(n,r,e),this.setNodeLocationFromToken(n.location,r)},t.prototype.cstPostNonTerminal=function(e,r){var n=this.CST_STACK[this.CST_STACK.length-1];(0,tt.addNoneTerminalToCst)(n,r,e),this.setNodeLocationFromNode(n.location,e.location)},t.prototype.getBaseCstVisitorConstructor=function(){if((0,K.isUndefined)(this.baseCstVisitorConstructor)){var e=(0,ra.createBaseSemanticVisitorConstructor)(this.className,(0,K.keys)(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor},t.prototype.getBaseCstVisitorConstructorWithDefaults=function(){if((0,K.isUndefined)(this.baseCstVisitorWithDefaultsConstructor)){var e=(0,ra.createBaseVisitorConstructorWithDefaults)(this.className,(0,K.keys)(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor},t.prototype.getLastExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-1]},t.prototype.getPreviousExplicitRuleShortName=function(){var e=this.RULE_STACK;return e[e.length-2]},t.prototype.getLastExplicitRuleOccurrenceIndex=function(){var e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]},t}();$t.TreeBuilder=js});var aa=R(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.LexerAdapter=void 0;var ia=ce(),Vs=function(){function t(){}return t.prototype.initLexerAdapter=function(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1},Object.defineProperty(t.prototype,"input",{get:function(){return this.tokVector},set:function(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length},enumerable:!1,configurable:!0}),t.prototype.SKIP_TOKEN=function(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):ia.END_OF_FILE},t.prototype.LA=function(e){var r=this.currIdx+e;return r<0||this.tokVectorLength<=r?ia.END_OF_FILE:this.tokVector[r]},t.prototype.consumeToken=function(){this.currIdx++},t.prototype.exportLexerState=function(){return this.currIdx},t.prototype.importLexerState=function(e){this.currIdx=e},t.prototype.resetLexerState=function(){this.currIdx=-1},t.prototype.moveToTerminatedState=function(){this.currIdx=this.tokVector.length-1},t.prototype.getLexerPosition=function(){return this.exportLexerState()},t}();Zt.LexerAdapter=Vs});var sa=R(Qt=>{"use strict";Object.defineProperty(Qt,"__esModule",{value:!0});Qt.RecognizerApi=void 0;var oa=k(),Ks=et(),$r=ce(),zs=vt(),Hs=Vr(),Ys=re(),Xs=function(){function t(){}return t.prototype.ACTION=function(e){return e.call(this)},t.prototype.consume=function(e,r,n){return this.consumeInternal(r,e,n)},t.prototype.subrule=function(e,r,n){return this.subruleInternal(r,e,n)},t.prototype.option=function(e,r){return this.optionInternal(r,e)},t.prototype.or=function(e,r){return this.orInternal(r,e)},t.prototype.many=function(e,r){return this.manyInternal(e,r)},t.prototype.atLeastOne=function(e,r){return this.atLeastOneInternal(e,r)},t.prototype.CONSUME=function(e,r){return this.consumeInternal(e,0,r)},t.prototype.CONSUME1=function(e,r){return this.consumeInternal(e,1,r)},t.prototype.CONSUME2=function(e,r){return this.consumeInternal(e,2,r)},t.prototype.CONSUME3=function(e,r){return this.consumeInternal(e,3,r)},t.prototype.CONSUME4=function(e,r){return this.consumeInternal(e,4,r)},t.prototype.CONSUME5=function(e,r){return this.consumeInternal(e,5,r)},t.prototype.CONSUME6=function(e,r){return this.consumeInternal(e,6,r)},t.prototype.CONSUME7=function(e,r){return this.consumeInternal(e,7,r)},t.prototype.CONSUME8=function(e,r){return this.consumeInternal(e,8,r)},t.prototype.CONSUME9=function(e,r){return this.consumeInternal(e,9,r)},t.prototype.SUBRULE=function(e,r){return this.subruleInternal(e,0,r)},t.prototype.SUBRULE1=function(e,r){return this.subruleInternal(e,1,r)},t.prototype.SUBRULE2=function(e,r){return this.subruleInternal(e,2,r)},t.prototype.SUBRULE3=function(e,r){return this.subruleInternal(e,3,r)},t.prototype.SUBRULE4=function(e,r){return this.subruleInternal(e,4,r)},t.prototype.SUBRULE5=function(e,r){return this.subruleInternal(e,5,r)},t.prototype.SUBRULE6=function(e,r){return this.subruleInternal(e,6,r)},t.prototype.SUBRULE7=function(e,r){return this.subruleInternal(e,7,r)},t.prototype.SUBRULE8=function(e,r){return this.subruleInternal(e,8,r)},t.prototype.SUBRULE9=function(e,r){return this.subruleInternal(e,9,r)},t.prototype.OPTION=function(e){return this.optionInternal(e,0)},t.prototype.OPTION1=function(e){return this.optionInternal(e,1)},t.prototype.OPTION2=function(e){return this.optionInternal(e,2)},t.prototype.OPTION3=function(e){return this.optionInternal(e,3)},t.prototype.OPTION4=function(e){return this.optionInternal(e,4)},t.prototype.OPTION5=function(e){return this.optionInternal(e,5)},t.prototype.OPTION6=function(e){return this.optionInternal(e,6)},t.prototype.OPTION7=function(e){return this.optionInternal(e,7)},t.prototype.OPTION8=function(e){return this.optionInternal(e,8)},t.prototype.OPTION9=function(e){return this.optionInternal(e,9)},t.prototype.OR=function(e){return this.orInternal(e,0)},t.prototype.OR1=function(e){return this.orInternal(e,1)},t.prototype.OR2=function(e){return this.orInternal(e,2)},t.prototype.OR3=function(e){return this.orInternal(e,3)},t.prototype.OR4=function(e){return this.orInternal(e,4)},t.prototype.OR5=function(e){return this.orInternal(e,5)},t.prototype.OR6=function(e){return this.orInternal(e,6)},t.prototype.OR7=function(e){return this.orInternal(e,7)},t.prototype.OR8=function(e){return this.orInternal(e,8)},t.prototype.OR9=function(e){return this.orInternal(e,9)},t.prototype.MANY=function(e){this.manyInternal(0,e)},t.prototype.MANY1=function(e){this.manyInternal(1,e)},t.prototype.MANY2=function(e){this.manyInternal(2,e)},t.prototype.MANY3=function(e){this.manyInternal(3,e)},t.prototype.MANY4=function(e){this.manyInternal(4,e)},t.prototype.MANY5=function(e){this.manyInternal(5,e)},t.prototype.MANY6=function(e){this.manyInternal(6,e)},t.prototype.MANY7=function(e){this.manyInternal(7,e)},t.prototype.MANY8=function(e){this.manyInternal(8,e)},t.prototype.MANY9=function(e){this.manyInternal(9,e)},t.prototype.MANY_SEP=function(e){this.manySepFirstInternal(0,e)},t.prototype.MANY_SEP1=function(e){this.manySepFirstInternal(1,e)},t.prototype.MANY_SEP2=function(e){this.manySepFirstInternal(2,e)},t.prototype.MANY_SEP3=function(e){this.manySepFirstInternal(3,e)},t.prototype.MANY_SEP4=function(e){this.manySepFirstInternal(4,e)},t.prototype.MANY_SEP5=function(e){this.manySepFirstInternal(5,e)},t.prototype.MANY_SEP6=function(e){this.manySepFirstInternal(6,e)},t.prototype.MANY_SEP7=function(e){this.manySepFirstInternal(7,e)},t.prototype.MANY_SEP8=function(e){this.manySepFirstInternal(8,e)},t.prototype.MANY_SEP9=function(e){this.manySepFirstInternal(9,e)},t.prototype.AT_LEAST_ONE=function(e){this.atLeastOneInternal(0,e)},t.prototype.AT_LEAST_ONE1=function(e){return this.atLeastOneInternal(1,e)},t.prototype.AT_LEAST_ONE2=function(e){this.atLeastOneInternal(2,e)},t.prototype.AT_LEAST_ONE3=function(e){this.atLeastOneInternal(3,e)},t.prototype.AT_LEAST_ONE4=function(e){this.atLeastOneInternal(4,e)},t.prototype.AT_LEAST_ONE5=function(e){this.atLeastOneInternal(5,e)},t.prototype.AT_LEAST_ONE6=function(e){this.atLeastOneInternal(6,e)},t.prototype.AT_LEAST_ONE7=function(e){this.atLeastOneInternal(7,e)},t.prototype.AT_LEAST_ONE8=function(e){this.atLeastOneInternal(8,e)},t.prototype.AT_LEAST_ONE9=function(e){this.atLeastOneInternal(9,e)},t.prototype.AT_LEAST_ONE_SEP=function(e){this.atLeastOneSepFirstInternal(0,e)},t.prototype.AT_LEAST_ONE_SEP1=function(e){this.atLeastOneSepFirstInternal(1,e)},t.prototype.AT_LEAST_ONE_SEP2=function(e){this.atLeastOneSepFirstInternal(2,e)},t.prototype.AT_LEAST_ONE_SEP3=function(e){this.atLeastOneSepFirstInternal(3,e)},t.prototype.AT_LEAST_ONE_SEP4=function(e){this.atLeastOneSepFirstInternal(4,e)},t.prototype.AT_LEAST_ONE_SEP5=function(e){this.atLeastOneSepFirstInternal(5,e)},t.prototype.AT_LEAST_ONE_SEP6=function(e){this.atLeastOneSepFirstInternal(6,e)},t.prototype.AT_LEAST_ONE_SEP7=function(e){this.atLeastOneSepFirstInternal(7,e)},t.prototype.AT_LEAST_ONE_SEP8=function(e){this.atLeastOneSepFirstInternal(8,e)},t.prototype.AT_LEAST_ONE_SEP9=function(e){this.atLeastOneSepFirstInternal(9,e)},t.prototype.RULE=function(e,r,n){if(n===void 0&&(n=$r.DEFAULT_RULE_CONFIG),(0,oa.contains)(this.definedRulesNames,e)){var i=zs.defaultGrammarValidatorErrorProvider.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),a={message:i,type:$r.ParserDefinitionErrorType.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(a)}this.definedRulesNames.push(e);var o=this.defineRule(e,r,n);return this[e]=o,o},t.prototype.OVERRIDE_RULE=function(e,r,n){n===void 0&&(n=$r.DEFAULT_RULE_CONFIG);var i=[];i=i.concat((0,Hs.validateRuleIsOverridden)(e,this.definedRulesNames,this.className)),this.definitionErrors=this.definitionErrors.concat(i);var a=this.defineRule(e,r,n);return this[e]=a,a},t.prototype.BACKTRACK=function(e,r){return function(){this.isBackTrackingStack.push(1);var n=this.saveRecogState();try{return e.apply(this,r),!0}catch(i){if((0,Ks.isRecognitionException)(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}},t.prototype.getGAstProductions=function(){return this.gastProductionsCache},t.prototype.getSerializedGastProductions=function(){return(0,Ys.serializeGrammar)((0,oa.values)(this.gastProductionsCache))},t}();Qt.RecognizerApi=Xs});var fa=R(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.RecognizerEngine=void 0;var q=k(),le=Yt(),Jt=et(),ua=Tt(),rt=Et(),ca=ce(),$s=Hr(),la=Ge(),At=Xe(),Zs=Yr(),Qs=function(){function t(){}return t.prototype.initRecognizerEngine=function(e,r){if(this.className=(0,Zs.classNameFromInstance)(this),this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=At.tokenStructuredMatcherNoCategories,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},(0,q.has)(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if((0,q.isArray)(e)){if((0,q.isEmpty)(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if((0,q.isArray)(e))this.tokensMap=(0,q.reduce)(e,function(o,s){return o[s.name]=s,o},{});else if((0,q.has)(e,"modes")&&(0,q.every)((0,q.flatten)((0,q.values)(e.modes)),At.isTokenType)){var n=(0,q.flatten)((0,q.values)(e.modes)),i=(0,q.uniq)(n);this.tokensMap=(0,q.reduce)(i,function(o,s){return o[s.name]=s,o},{})}else if((0,q.isObject)(e))this.tokensMap=(0,q.cloneObj)(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=la.EOF;var a=(0,q.every)((0,q.values)(e),function(o){return(0,q.isEmpty)(o.categoryMatches)});this.tokenMatcher=a?At.tokenStructuredMatcherNoCategories:At.tokenStructuredMatcher,(0,At.augmentTokenTypes)((0,q.values)(this.tokensMap))},t.prototype.defineRule=function(e,r,n){if(this.selfAnalysisDone)throw Error("Grammar rule <"+e+`> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);var i=(0,q.has)(n,"resyncEnabled")?n.resyncEnabled:ca.DEFAULT_RULE_CONFIG.resyncEnabled,a=(0,q.has)(n,"recoveryValueFunc")?n.recoveryValueFunc:ca.DEFAULT_RULE_CONFIG.recoveryValueFunc,o=this.ruleShortNameIdx<<le.BITS_FOR_METHOD_TYPE+le.BITS_FOR_OCCURRENCE_IDX;this.ruleShortNameIdx++,this.shortRuleNameToFull[o]=e,this.fullRuleNameToShort[e]=o;function s(p){try{if(this.outputCst===!0){r.apply(this,p);var f=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(f),f}else return r.apply(this,p)}catch(m){return this.invokeRuleCatch(m,i,a)}finally{this.ruleFinallyStateUpdate()}}var c=function(p,f){return p===void 0&&(p=0),this.ruleInvocationStateUpdate(o,e,p),s.call(this,f)},l="ruleName";return c[l]=e,c.originalGrammarAction=r,c},t.prototype.invokeRuleCatch=function(e,r,n){var i=this.RULE_STACK.length===1,a=r&&!this.isBackTracking()&&this.recoveryEnabled;if((0,Jt.isRecognitionException)(e)){var o=e;if(a){var s=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(s))if(o.resyncedTokens=this.reSyncTo(s),this.outputCst){var c=this.CST_STACK[this.CST_STACK.length-1];return c.recoveredNode=!0,c}else return n();else{if(this.outputCst){var c=this.CST_STACK[this.CST_STACK.length-1];c.recoveredNode=!0,o.partialCstResult=c}throw o}}else{if(i)return this.moveToTerminatedState(),n();throw o}}else throw e},t.prototype.optionInternal=function(e,r){var n=this.getKeyForAutomaticLookahead(le.OPTION_IDX,r);return this.optionInternalLogic(e,r,n)},t.prototype.optionInternalLogic=function(e,r,n){var i=this,a=this.getLaFuncFromCache(n),o,s;if(e.DEF!==void 0){if(o=e.DEF,s=e.GATE,s!==void 0){var c=a;a=function(){return s.call(i)&&c.call(i)}}}else o=e;if(a.call(this)===!0)return o.call(this)},t.prototype.atLeastOneInternal=function(e,r){var n=this.getKeyForAutomaticLookahead(le.AT_LEAST_ONE_IDX,e);return this.atLeastOneInternalLogic(e,r,n)},t.prototype.atLeastOneInternalLogic=function(e,r,n){var i=this,a=this.getLaFuncFromCache(n),o,s;if(r.DEF!==void 0){if(o=r.DEF,s=r.GATE,s!==void 0){var c=a;a=function(){return s.call(i)&&c.call(i)}}}else o=r;if(a.call(this)===!0)for(var l=this.doSingleRepetition(o);a.call(this)===!0&&l===!0;)l=this.doSingleRepetition(o);else throw this.raiseEarlyExitException(e,ua.PROD_TYPE.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,r],a,le.AT_LEAST_ONE_IDX,e,rt.NextTerminalAfterAtLeastOneWalker)},t.prototype.atLeastOneSepFirstInternal=function(e,r){var n=this.getKeyForAutomaticLookahead(le.AT_LEAST_ONE_SEP_IDX,e);this.atLeastOneSepFirstInternalLogic(e,r,n)},t.prototype.atLeastOneSepFirstInternalLogic=function(e,r,n){var i=this,a=r.DEF,o=r.SEP,s=this.getLaFuncFromCache(n);if(s.call(this)===!0){a.call(this);for(var c=function(){return i.tokenMatcher(i.LA(1),o)};this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,c,a,rt.NextTerminalAfterAtLeastOneSepWalker],c,le.AT_LEAST_ONE_SEP_IDX,e,rt.NextTerminalAfterAtLeastOneSepWalker)}else throw this.raiseEarlyExitException(e,ua.PROD_TYPE.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)},t.prototype.manyInternal=function(e,r){var n=this.getKeyForAutomaticLookahead(le.MANY_IDX,e);return this.manyInternalLogic(e,r,n)},t.prototype.manyInternalLogic=function(e,r,n){var i=this,a=this.getLaFuncFromCache(n),o,s;if(r.DEF!==void 0){if(o=r.DEF,s=r.GATE,s!==void 0){var c=a;a=function(){return s.call(i)&&c.call(i)}}}else o=r;for(var l=!0;a.call(this)===!0&&l===!0;)l=this.doSingleRepetition(o);this.attemptInRepetitionRecovery(this.manyInternal,[e,r],a,le.MANY_IDX,e,rt.NextTerminalAfterManyWalker,l)},t.prototype.manySepFirstInternal=function(e,r){var n=this.getKeyForAutomaticLookahead(le.MANY_SEP_IDX,e);this.manySepFirstInternalLogic(e,r,n)},t.prototype.manySepFirstInternalLogic=function(e,r,n){var i=this,a=r.DEF,o=r.SEP,s=this.getLaFuncFromCache(n);if(s.call(this)===!0){a.call(this);for(var c=function(){return i.tokenMatcher(i.LA(1),o)};this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),a.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,o,c,a,rt.NextTerminalAfterManySepWalker],c,le.MANY_SEP_IDX,e,rt.NextTerminalAfterManySepWalker)}},t.prototype.repetitionSepSecondInternal=function(e,r,n,i,a){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,r,n,i,a],n,le.AT_LEAST_ONE_SEP_IDX,e,a)},t.prototype.doSingleRepetition=function(e){var r=this.getLexerPosition();e.call(this);var n=this.getLexerPosition();return n>r},t.prototype.orInternal=function(e,r){var n=this.getKeyForAutomaticLookahead(le.OR_IDX,r),i=(0,q.isArray)(e)?e:e.DEF,a=this.getLaFuncFromCache(n),o=a.call(this,i);if(o!==void 0){var s=i[o];return s.ALT.call(this)}this.raiseNoAltException(r,e.ERR_MSG)},t.prototype.ruleFinallyStateUpdate=function(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){var e=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Jt.NotAllInputParsedException(r,e))}},t.prototype.subruleInternal=function(e,r,n){var i;try{var a=n!==void 0?n.ARGS:void 0;return i=e.call(this,r,a),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),i}catch(o){this.subruleInternalError(o,n,e.ruleName)}},t.prototype.subruleInternalError=function(e,r,n){throw(0,Jt.isRecognitionException)(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete e.partialCstResult),e},t.prototype.consumeInternal=function(e,r,n){var i;try{var a=this.LA(1);this.tokenMatcher(a,e)===!0?(this.consumeToken(),i=a):this.consumeInternalError(e,a,n)}catch(o){i=this.consumeInternalRecovery(e,r,o)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,i),i},t.prototype.consumeInternalError=function(e,r,n){var i,a=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:r,previous:a,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Jt.MismatchedTokenException(i,r,a))},t.prototype.consumeInternalRecovery=function(e,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){var i=this.getFollowsForInRuleRecovery(e,r);try{return this.tryInRuleRecovery(e,i)}catch(a){throw a.name===$s.IN_RULE_RECOVERY_EXCEPTION?n:a}}else throw n},t.prototype.saveRecogState=function(){var e=this.errors,r=(0,q.cloneArr)(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}},t.prototype.reloadRecogState=function(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK},t.prototype.ruleInvocationStateUpdate=function(e,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(r,e)},t.prototype.isBackTracking=function(){return this.isBackTrackingStack.length!==0},t.prototype.getCurrRuleFullName=function(){var e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]},t.prototype.shortRuleNameToFullName=function(e){return this.shortRuleNameToFull[e]},t.prototype.isAtEndOfInput=function(){return this.tokenMatcher(this.LA(1),la.EOF)},t.prototype.reset=function(){this.resetLexerState(),this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]},t}();er.RecognizerEngine=Qs});var ha=R(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.ErrorHandler=void 0;var Zr=et(),Qr=k(),pa=Tt(),Js=ce(),eu=function(){function t(){}return t.prototype.initErrorHandler=function(e){this._errors=[],this.errorMessageProvider=(0,Qr.has)(e,"errorMessageProvider")?e.errorMessageProvider:Js.DEFAULT_PARSER_CONFIG.errorMessageProvider},t.prototype.SAVE_ERROR=function(e){if((0,Zr.isRecognitionException)(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:(0,Qr.cloneArr)(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")},Object.defineProperty(t.prototype,"errors",{get:function(){return(0,Qr.cloneArr)(this._errors)},set:function(e){this._errors=e},enumerable:!1,configurable:!0}),t.prototype.raiseEarlyExitException=function(e,r,n){for(var i=this.getCurrRuleFullName(),a=this.getGAstProductions()[i],o=(0,pa.getLookaheadPathsForOptionalProd)(e,a,r,this.maxLookahead),s=o[0],c=[],l=1;l<=this.maxLookahead;l++)c.push(this.LA(l));var p=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:s,actual:c,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new Zr.EarlyExitException(p,this.LA(1),this.LA(0)))},t.prototype.raiseNoAltException=function(e,r){for(var n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],a=(0,pa.getLookaheadPathsForOr)(e,i,this.maxLookahead),o=[],s=1;s<=this.maxLookahead;s++)o.push(this.LA(s));var c=this.LA(0),l=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:a,actual:o,previous:c,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Zr.NoViableAltException(l,this.LA(1),c))},t}();tr.ErrorHandler=eu});var ma=R(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.ContentAssist=void 0;var da=Et(),va=k(),tu=function(){function t(){}return t.prototype.initContentAssist=function(){},t.prototype.computeContentAssist=function(e,r){var n=this.gastProductionsCache[e];if((0,va.isUndefined)(n))throw Error("Rule ->"+e+"<- does not exist in this grammar.");return(0,da.nextPossibleTokensAfter)([n],r,this.tokenMatcher,this.maxLookahead)},t.prototype.getNextPossibleTokenTypes=function(e){var r=(0,va.first)(e.ruleStack),n=this.getGAstProductions(),i=n[r],a=new da.NextAfterTokenWalker(i,e).startWalking();return a},t}();rr.ContentAssist=tu});var Oa=R(ar=>{"use strict";Object.defineProperty(ar,"__esModule",{value:!0});ar.GastRecorder=void 0;var ae=k(),Se=re(),ru=lt(),Ea=Xe(),Ta=Ge(),nu=ce(),iu=Yt(),nr={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(nr);var ya=!0,_a=Math.pow(2,iu.BITS_FOR_OCCURRENCE_IDX)-1,ga=(0,Ta.createToken)({name:"RECORDING_PHASE_TOKEN",pattern:ru.Lexer.NA});(0,Ea.augmentTokenTypes)([ga]);var Aa=(0,Ta.createTokenInstance)(ga,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(Aa);var au={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},ou=function(){function t(){}return t.prototype.initGastRecorder=function(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1},t.prototype.enableRecording=function(){var e=this;this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",function(){for(var r=function(i){var a=i>0?i:"";e["CONSUME"+a]=function(o,s){return this.consumeInternalRecord(o,i,s)},e["SUBRULE"+a]=function(o,s){return this.subruleInternalRecord(o,i,s)},e["OPTION"+a]=function(o){return this.optionInternalRecord(o,i)},e["OR"+a]=function(o){return this.orInternalRecord(o,i)},e["MANY"+a]=function(o){this.manyInternalRecord(i,o)},e["MANY_SEP"+a]=function(o){this.manySepFirstInternalRecord(i,o)},e["AT_LEAST_ONE"+a]=function(o){this.atLeastOneInternalRecord(i,o)},e["AT_LEAST_ONE_SEP"+a]=function(o){this.atLeastOneSepFirstInternalRecord(i,o)}},n=0;n<10;n++)r(n);e.consume=function(i,a,o){return this.consumeInternalRecord(a,i,o)},e.subrule=function(i,a,o){return this.subruleInternalRecord(a,i,o)},e.option=function(i,a){return this.optionInternalRecord(a,i)},e.or=function(i,a){return this.orInternalRecord(a,i)},e.many=function(i,a){this.manyInternalRecord(i,a)},e.atLeastOne=function(i,a){this.atLeastOneInternalRecord(i,a)},e.ACTION=e.ACTION_RECORD,e.BACKTRACK=e.BACKTRACK_RECORD,e.LA=e.LA_RECORD})},t.prototype.disableRecording=function(){var e=this;this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",function(){for(var r=0;r<10;r++){var n=r>0?r:"";delete e["CONSUME"+n],delete e["SUBRULE"+n],delete e["OPTION"+n],delete e["OR"+n],delete e["MANY"+n],delete e["MANY_SEP"+n],delete e["AT_LEAST_ONE"+n],delete e["AT_LEAST_ONE_SEP"+n]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})},t.prototype.ACTION_RECORD=function(e){},t.prototype.BACKTRACK_RECORD=function(e,r){return function(){return!0}},t.prototype.LA_RECORD=function(e){return nu.END_OF_FILE},t.prototype.topLevelRuleRecord=function(e,r){try{var n=new Se.Rule({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(i){if(i.KNOWN_RECORDER_ERROR!==!0)try{i.message=i.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch(a){throw i}throw i}},t.prototype.optionInternalRecord=function(e,r){return Rt.call(this,Se.Option,e,r)},t.prototype.atLeastOneInternalRecord=function(e,r){Rt.call(this,Se.RepetitionMandatory,r,e)},t.prototype.atLeastOneSepFirstInternalRecord=function(e,r){Rt.call(this,Se.RepetitionMandatoryWithSeparator,r,e,ya)},t.prototype.manyInternalRecord=function(e,r){Rt.call(this,Se.Repetition,r,e)},t.prototype.manySepFirstInternalRecord=function(e,r){Rt.call(this,Se.RepetitionWithSeparator,r,e,ya)},t.prototype.orInternalRecord=function(e,r){return su.call(this,e,r)},t.prototype.subruleInternalRecord=function(e,r,n){if(ir(r),!e||(0,ae.has)(e,"ruleName")===!1){var i=new Error("<SUBRULE"+Ra(r)+"> argument is invalid"+(" expecting a Parser method reference but got: <"+JSON.stringify(e)+">")+(`
 inside top level rule: <`+this.recordingProdStack[0].name+">"));throw i.KNOWN_RECORDER_ERROR=!0,i}var a=(0,ae.peek)(this.recordingProdStack),o=e.ruleName,s=new Se.NonTerminal({idx:r,nonTerminalName:o,label:n==null?void 0:n.LABEL,referencedRule:void 0});return a.definition.push(s),this.outputCst?au:nr},t.prototype.consumeInternalRecord=function(e,r,n){if(ir(r),!(0,Ea.hasShortKeyProperty)(e)){var i=new Error("<CONSUME"+Ra(r)+"> argument is invalid"+(" expecting a TokenType reference but got: <"+JSON.stringify(e)+">")+(`
 inside top level rule: <`+this.recordingProdStack[0].name+">"));throw i.KNOWN_RECORDER_ERROR=!0,i}var a=(0,ae.peek)(this.recordingProdStack),o=new Se.Terminal({idx:r,terminalType:e,label:n==null?void 0:n.LABEL});return a.definition.push(o),Aa},t}();ar.GastRecorder=ou;function Rt(t,e,r,n){n===void 0&&(n=!1),ir(r);var i=(0,ae.peek)(this.recordingProdStack),a=(0,ae.isFunction)(e)?e:e.DEF,o=new t({definition:[],idx:r});return n&&(o.separator=e.SEP),(0,ae.has)(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(o),a.call(this),i.definition.push(o),this.recordingProdStack.pop(),nr}function su(t,e){var r=this;ir(e);var n=(0,ae.peek)(this.recordingProdStack),i=(0,ae.isArray)(t)===!1,a=i===!1?t:t.DEF,o=new Se.Alternation({definition:[],idx:e,ignoreAmbiguities:i&&t.IGNORE_AMBIGUITIES===!0});(0,ae.has)(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD);var s=(0,ae.some)(a,function(c){return(0,ae.isFunction)(c.GATE)});return o.hasPredicates=s,n.definition.push(o),(0,ae.forEach)(a,function(c){var l=new Se.Alternative({definition:[]});o.definition.push(l),(0,ae.has)(c,"IGNORE_AMBIGUITIES")?l.ignoreAmbiguities=c.IGNORE_AMBIGUITIES:(0,ae.has)(c,"GATE")&&(l.ignoreAmbiguities=!0),r.recordingProdStack.push(l),c.ALT.call(r),r.recordingProdStack.pop()}),nr}function Ra(t){return t===0?"":""+t}function ir(t){if(t<0||t>_a){var e=new Error("Invalid DSL Method idx value: <"+t+`>
	`+("Idx value must be a none negative value smaller than "+(_a+1)));throw e.KNOWN_RECORDER_ERROR=!0,e}}});var Ia=R(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.PerformanceTracer=void 0;var Na=k(),uu=ce(),cu=function(){function t(){}return t.prototype.initPerformanceTracer=function(e){if((0,Na.has)(e,"traceInitPerf")){var r=e.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=uu.DEFAULT_PARSER_CONFIG.traceInitPerf;this.traceInitIndent=-1},t.prototype.TRACE_INIT=function(e,r){if(this.traceInitPerf===!0){this.traceInitIndent++;var n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(n+"--> <"+e+">");var i=(0,Na.timer)(r),a=i.time,o=i.value,s=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(n+"<-- <"+e+"> time: "+a+"ms"),this.traceInitIndent--,o}else return r()},t}();or.PerformanceTracer=cu});var Pa=R(sr=>{"use strict";Object.defineProperty(sr,"__esModule",{value:!0});sr.applyMixins=void 0;function lu(t,e){e.forEach(function(r){var n=r.prototype;Object.getOwnPropertyNames(n).forEach(function(i){if(i!=="constructor"){var a=Object.getOwnPropertyDescriptor(n,i);a&&(a.get||a.set)?Object.defineProperty(t.prototype,i,a):t.prototype[i]=r.prototype[i]}})})}sr.applyMixins=lu});var ce=R(G=>{"use strict";var ka=G&&G.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(G,"__esModule",{value:!0});G.EmbeddedActionsParser=G.CstParser=G.Parser=G.EMPTY_ALT=G.ParserDefinitionErrorType=G.DEFAULT_RULE_CONFIG=G.DEFAULT_PARSER_CONFIG=G.END_OF_FILE=void 0;var J=k(),fu=hi(),Sa=Ge(),xa=vt(),Ca=Gi(),pu=Hr(),hu=Hi(),du=na(),vu=aa(),mu=sa(),Eu=fa(),Tu=ha(),yu=ma(),_u=Oa(),gu=Ia(),Au=Pa();G.END_OF_FILE=(0,Sa.createTokenInstance)(Sa.EOF,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(G.END_OF_FILE);G.DEFAULT_PARSER_CONFIG=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:xa.defaultParserErrorProvider,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1});G.DEFAULT_RULE_CONFIG=Object.freeze({recoveryValueFunc:function(){},resyncEnabled:!0});var Ru;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS"})(Ru=G.ParserDefinitionErrorType||(G.ParserDefinitionErrorType={}));function Ou(t){return t===void 0&&(t=void 0),function(){return t}}G.EMPTY_ALT=Ou;var ur=function(){function t(e,r){this.definitionErrors=[],this.selfAnalysisDone=!1;var n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(e,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),(0,J.has)(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=(0,J.has)(r,"skipValidations")?r.skipValidations:G.DEFAULT_PARSER_CONFIG.skipValidations}return t.performSelfAnalysis=function(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")},t.prototype.performSelfAnalysis=function(){var e=this;this.TRACE_INIT("performSelfAnalysis",function(){var r;e.selfAnalysisDone=!0;var n=e.className;e.TRACE_INIT("toFastProps",function(){(0,J.toFastProperties)(e)}),e.TRACE_INIT("Grammar Recording",function(){try{e.enableRecording(),(0,J.forEach)(e.definedRulesNames,function(a){var o=e[a],s=o.originalGrammarAction,c=void 0;e.TRACE_INIT(a+" Rule",function(){c=e.topLevelRuleRecord(a,s)}),e.gastProductionsCache[a]=c})}finally{e.disableRecording()}});var i=[];if(e.TRACE_INIT("Grammar Resolving",function(){i=(0,Ca.resolveGrammar)({rules:(0,J.values)(e.gastProductionsCache)}),e.definitionErrors=e.definitionErrors.concat(i)}),e.TRACE_INIT("Grammar Validations",function(){if((0,J.isEmpty)(i)&&e.skipValidations===!1){var a=(0,Ca.validateGrammar)({rules:(0,J.values)(e.gastProductionsCache),maxLookahead:e.maxLookahead,tokenTypes:(0,J.values)(e.tokensMap),errMsgProvider:xa.defaultGrammarValidatorErrorProvider,grammarName:n});e.definitionErrors=e.definitionErrors.concat(a)}}),(0,J.isEmpty)(e.definitionErrors)&&(e.recoveryEnabled&&e.TRACE_INIT("computeAllProdsFollows",function(){var a=(0,fu.computeAllProdsFollows)((0,J.values)(e.gastProductionsCache));e.resyncFollows=a}),e.TRACE_INIT("ComputeLookaheadFunctions",function(){e.preComputeLookaheadFunctions((0,J.values)(e.gastProductionsCache))})),!t.DEFER_DEFINITION_ERRORS_HANDLING&&!(0,J.isEmpty)(e.definitionErrors))throw r=(0,J.map)(e.definitionErrors,function(a){return a.message}),new Error(`Parser Definition Errors detected:
 `+r.join(`
-------------------------------
`))})},t.DEFER_DEFINITION_ERRORS_HANDLING=!1,t}();G.Parser=ur;(0,Au.applyMixins)(ur,[pu.Recoverable,hu.LooksAhead,du.TreeBuilder,vu.LexerAdapter,Eu.RecognizerEngine,mu.RecognizerApi,Tu.ErrorHandler,yu.ContentAssist,_u.GastRecorder,gu.PerformanceTracer]);var Nu=function(t){ka(e,t);function e(r,n){n===void 0&&(n=G.DEFAULT_PARSER_CONFIG);var i=this,a=(0,J.cloneObj)(n);return a.outputCst=!0,i=t.call(this,r,a)||this,i}return e}(ur);G.CstParser=Nu;var Iu=function(t){ka(e,t);function e(r,n){n===void 0&&(n=G.DEFAULT_PARSER_CONFIG);var i=this,a=(0,J.cloneObj)(n);return a.outputCst=!1,i=t.call(this,r,a)||this,i}return e}(ur);G.EmbeddedActionsParser=Iu});var Ma=R(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.createSyntaxDiagramsCode=void 0;var La=Tr();function Pu(t,e){var r=e===void 0?{}:e,n=r.resourceBase,i=n===void 0?"https://unpkg.com/chevrotain@"+La.VERSION+"/diagrams/":n,a=r.css,o=a===void 0?"https://unpkg.com/chevrotain@"+La.VERSION+"/diagrams/diagrams.css":a,s=`
<!-- This is a generated file -->
<!DOCTYPE html>
<meta charset="utf-8">
<style>
  body {
    background-color: hsl(30, 20%, 95%)
  }
</style>

`,c=`
<link rel='stylesheet' href='`+o+`'>
`,l=`
<script src='`+i+`vendor/railroad-diagrams.js'><\/script>
<script src='`+i+`src/diagrams_builder.js'><\/script>
<script src='`+i+`src/diagrams_behavior.js'><\/script>
<script src='`+i+`src/main.js'><\/script>
`,p=`
<div id="diagrams" align="center"></div>    
`,f=`
<script>
    window.serializedGrammar = `+JSON.stringify(t,null,"  ")+`;
<\/script>
`,m=`
<script>
    var diagramsDiv = document.getElementById("diagrams");
    main.drawDiagramsFromSerializedGrammar(serializedGrammar, diagramsDiv);
<\/script>
`;return s+c+l+p+f+m}cr.createSyntaxDiagramsCode=Pu});var Fu=R(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.Parser=T.createSyntaxDiagramsCode=T.clearCache=T.GAstVisitor=T.serializeProduction=T.serializeGrammar=T.Terminal=T.Rule=T.RepetitionWithSeparator=T.RepetitionMandatoryWithSeparator=T.RepetitionMandatory=T.Repetition=T.Option=T.NonTerminal=T.Alternative=T.Alternation=T.defaultLexerErrorProvider=T.NoViableAltException=T.NotAllInputParsedException=T.MismatchedTokenException=T.isRecognitionException=T.EarlyExitException=T.defaultParserErrorProvider=T.tokenName=T.tokenMatcher=T.tokenLabel=T.EOF=T.createTokenInstance=T.createToken=T.LexerDefinitionErrorType=T.Lexer=T.EMPTY_ALT=T.ParserDefinitionErrorType=T.EmbeddedActionsParser=T.CstParser=T.VERSION=void 0;var ku=Tr();Object.defineProperty(T,"VERSION",{enumerable:!0,get:function(){return ku.VERSION}});var lr=ce();Object.defineProperty(T,"CstParser",{enumerable:!0,get:function(){return lr.CstParser}});Object.defineProperty(T,"EmbeddedActionsParser",{enumerable:!0,get:function(){return lr.EmbeddedActionsParser}});Object.defineProperty(T,"ParserDefinitionErrorType",{enumerable:!0,get:function(){return lr.ParserDefinitionErrorType}});Object.defineProperty(T,"EMPTY_ALT",{enumerable:!0,get:function(){return lr.EMPTY_ALT}});var ba=lt();Object.defineProperty(T,"Lexer",{enumerable:!0,get:function(){return ba.Lexer}});Object.defineProperty(T,"LexerDefinitionErrorType",{enumerable:!0,get:function(){return ba.LexerDefinitionErrorType}});var nt=Ge();Object.defineProperty(T,"createToken",{enumerable:!0,get:function(){return nt.createToken}});Object.defineProperty(T,"createTokenInstance",{enumerable:!0,get:function(){return nt.createTokenInstance}});Object.defineProperty(T,"EOF",{enumerable:!0,get:function(){return nt.EOF}});Object.defineProperty(T,"tokenLabel",{enumerable:!0,get:function(){return nt.tokenLabel}});Object.defineProperty(T,"tokenMatcher",{enumerable:!0,get:function(){return nt.tokenMatcher}});Object.defineProperty(T,"tokenName",{enumerable:!0,get:function(){return nt.tokenName}});var Su=vt();Object.defineProperty(T,"defaultParserErrorProvider",{enumerable:!0,get:function(){return Su.defaultParserErrorProvider}});var Ot=et();Object.defineProperty(T,"EarlyExitException",{enumerable:!0,get:function(){return Ot.EarlyExitException}});Object.defineProperty(T,"isRecognitionException",{enumerable:!0,get:function(){return Ot.isRecognitionException}});Object.defineProperty(T,"MismatchedTokenException",{enumerable:!0,get:function(){return Ot.MismatchedTokenException}});Object.defineProperty(T,"NotAllInputParsedException",{enumerable:!0,get:function(){return Ot.NotAllInputParsedException}});Object.defineProperty(T,"NoViableAltException",{enumerable:!0,get:function(){return Ot.NoViableAltException}});var xu=kr();Object.defineProperty(T,"defaultLexerErrorProvider",{enumerable:!0,get:function(){return xu.defaultLexerErrorProvider}});var xe=re();Object.defineProperty(T,"Alternation",{enumerable:!0,get:function(){return xe.Alternation}});Object.defineProperty(T,"Alternative",{enumerable:!0,get:function(){return xe.Alternative}});Object.defineProperty(T,"NonTerminal",{enumerable:!0,get:function(){return xe.NonTerminal}});Object.defineProperty(T,"Option",{enumerable:!0,get:function(){return xe.Option}});Object.defineProperty(T,"Repetition",{enumerable:!0,get:function(){return xe.Repetition}});Object.defineProperty(T,"RepetitionMandatory",{enumerable:!0,get:function(){return xe.RepetitionMandatory}});Object.defineProperty(T,"RepetitionMandatoryWithSeparator",{enumerable:!0,get:function(){return xe.RepetitionMandatoryWithSeparator}});Object.defineProperty(T,"RepetitionWithSeparator",{enumerable:!0,get:function(){return xe.RepetitionWithSeparator}});Object.defineProperty(T,"Rule",{enumerable:!0,get:function(){return xe.Rule}});Object.defineProperty(T,"Terminal",{enumerable:!0,get:function(){return xe.Terminal}});var Fa=re();Object.defineProperty(T,"serializeGrammar",{enumerable:!0,get:function(){return Fa.serializeGrammar}});Object.defineProperty(T,"serializeProduction",{enumerable:!0,get:function(){return Fa.serializeProduction}});var Cu=$e();Object.defineProperty(T,"GAstVisitor",{enumerable:!0,get:function(){return Cu.GAstVisitor}});function Lu(){console.warn(`The clearCache function was 'soft' removed from the Chevrotain API.
	 It performs no action other than printing this message.
	 Please avoid using it as it will be completely removed in the future`)}T.clearCache=Lu;var Mu=Ma();Object.defineProperty(T,"createSyntaxDiagramsCode",{enumerable:!0,get:function(){return Mu.createSyntaxDiagramsCode}});var bu=function(){function t(){throw new Error(`The Parser class has been deprecated, use CstParser or EmbeddedActionsParser instead.	
See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_7-0-0`)}return t}();T.Parser=bu});export default Fu();
//# sourceMappingURL=chevrotain.min.mjs.map
